graph LR
    subgraph Foundation["ğŸ”§ Foundation Layer"]
        Utils["canvod-utils<br/>â”â”â”â”â”â”â”â”<br/>â€¢ Config<br/>â€¢ YYYYDOY<br/>â€¢ Tools"]
    end

    subgraph DataIO["ğŸ“¥ Data I/O Layer"]
        Readers["canvod-readers<br/>â”â”â”â”â”â”â”â”<br/>â€¢ Rnxv3Obs<br/>â€¢ SignalID<br/>â€¢ DataDir"]
        Aux["canvod-aux<br/>â”â”â”â”â”â”â”â”<br/>â€¢ SP3<br/>â€¢ CLK<br/>â€¢ Interpolator"]
    end

    subgraph Storage["ğŸ’¾ Storage Layer"]
        Store["canvod-store<br/>â”â”â”â”â”â”â”â”<br/>â€¢ Icechunk<br/>â€¢ ResearchSite<br/>â€¢ Reader"]
    end

    subgraph Computation["ğŸ§® Computation Layer"]
        VOD["canvod-vod<br/>â”â”â”â”â”â”â”â”<br/>â€¢ VODCalculator<br/>â€¢ TauOmega"]
        Grids["canvod-grids<br/>â”â”â”â”â”â”â”â”<br/>â€¢ HEALPix<br/>â€¢ Geodesic<br/>â€¢ Fibonacci"]
    end

    subgraph Presentation["ğŸ“Š Presentation Layer"]
        Viz["canvod-viz<br/>â”â”â”â”â”â”â”â”<br/>â€¢ 2D Plots<br/>â€¢ 3D Surface<br/>â€¢ Styles"]
    end

    subgraph Orchestration["ğŸ¯ Orchestration Layer"]
        Canvodpy["canvodpy<br/>â”â”â”â”â”â”â”â”<br/>â€¢ Pipeline<br/>â€¢ Processor<br/>â€¢ API"]
    end

    Readers -.->|uses| Utils
    Aux -.->|uses| Readers
    Aux -.->|uses| Utils
    Store -.->|uses| Aux
    Store -.->|uses| Readers
    Store -.->|uses| Utils
    Grids -.->|optional| Store
    Grids -.->|uses| Utils
    Viz -.->|uses| Grids

    Canvodpy ==>|coordinates| Readers
    Canvodpy ==>|coordinates| Aux
    Canvodpy ==>|coordinates| Store
    Canvodpy ==>|coordinates| VOD
    Canvodpy ==>|coordinates| Grids
    Canvodpy ==>|coordinates| Viz

    style Utils fill:#fce4ec,stroke:#880e4f,stroke-width:3px
    style Readers fill:#fff3e0,stroke:#e65100,stroke-width:2px
    style Aux fill:#fff3e0,stroke:#e65100,stroke-width:2px
    style Store fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    style VOD fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
    style Grids fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
    style Viz fill:#e0f2f1,stroke:#004d40,stroke-width:2px
    style Canvodpy fill:#e3f2fd,stroke:#0d47a1,stroke-width:4px
