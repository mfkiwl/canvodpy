# Default command lists all available recipes
_default:
    @just --list --unsorted

alias c := clean
alias h := hooks
alias q := check
alias t := test
alias d := docs

# lint, format, and type-check
check:
    uv run ruff check . --fix
    uv run ruff format .
    uv run ty check

# run tests
test:
    uv run pytest

# clean build artifacts
clean:
    rm -fr build/ dist/ .eggs/
    find . -name '*.egg-info' -exec rm -fr {} +
    find . -name '__pycache__' -exec rm -fr {} +

# setup pre-commit hooks
hooks:
    uvx pre-commit install

# sync dependencies
sync:
    uv sync

# build package
build:
    uv build

# preview documentation locally (MyST)
docs:
    uv run myst start

# build documentation to HTML
docs-build:
    uv run myst build --html

# clean documentation build
docs-clean:
    rm -rf _build/

# run marimo notebook
marimo:
    uv run marimo edit docs/demo.py

# run marimo notebook in presentation mode
marimo-present:
    uv run marimo run docs/demo.py
