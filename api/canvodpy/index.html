
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="GNSS Transmissometry (GNSS-T) analysis framework for Python">
      
      
        <meta name="author" content="Nicolas Bader">
      
      
        <link rel="canonical" href="https://nfb2021.github.io/canvodpy/api/canvodpy/">
      
      
        <link rel="prev" href="../../guides/HOW_RELEASE_WORKS/">
      
      
        <link rel="next" href="../canvod-readers/">
      
      
        
      
      
      <link rel="icon" href="../../assets/logo.svg">
      <meta name="generator" content="zensical-0.0.23">
    
    
      
        <title>canvodpy API Reference - canVODpy</title>
      
    
    
      
        
      
      <link rel="stylesheet" href="../../assets/stylesheets/modern/main.1e989742.min.css">
      
        
          
        
        <link rel="stylesheet" href="../../assets/stylesheets/modern/palette.dfe2e883.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,500,500i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/canvod-nordic.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)),0),__md_get=(e,t=localStorage,a=__md_scope)=>JSON.parse(t.getItem(a.pathname+"."+e)),__md_set=(e,t,a=localStorage,_=__md_scope)=>{try{a.setItem(_.pathname+"."+e,JSON.stringify(t))}catch(e){}},document.documentElement.setAttribute("data-platform",navigator.platform)</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#canvodpy-api-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="canVODpy" class="md-header__button md-logo" aria-label="canVODpy" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-menu" viewBox="0 0 24 24"><path d="M4 5h16M4 12h16M4 19h16"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            canVODpy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              canvodpy API Reference
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="none" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-sun" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="none" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-moon" viewBox="0 0 24 24"><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-search" viewBox="0 0 24 24"><path d="m21 21-4.34-4.34"/><circle cx="11" cy="11" r="8"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog" aria-label="Search">
  <button type="button" class="md-search__button">
    Search
  </button>
</div>
      
    
    <div class="md-header__source">
      
        <a href="https://github.com/nfb2021/canvodpy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    nfb2021/canvodpy
  </div>
</a>
      
    </div>
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../architecture/" class="md-tabs__link">
          
  
  Architecture

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../packages/readers/overview/" class="md-tabs__link">
          
  
  Packages

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guides/getting-started/" class="md-tabs__link">
          
  
  Development

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../VERSIONING/" class="md-tabs__link">
          
  
  Release & Publishing

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="././" class="md-tabs__link">
          
  
  API Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="canVODpy" class="md-nav__button md-logo" aria-label="canVODpy" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    canVODpy
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/nfb2021/canvodpy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    nfb2021/canvodpy
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monorepo Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../namespace-packages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Namespace Packages
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dependencies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Package Dependencies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Packages
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Packages
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    canvod-readers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    canvod-readers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/readers/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/readers/rinex-format/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RINEX v3.04 Format
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/readers/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reader Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/readers/extending/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Extending Readers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    canvod-auxiliary
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    canvod-auxiliary
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/auxiliary/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/auxiliary/preprocessing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Preprocessing Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/auxiliary/interpolation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Interpolation Methods
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/auxiliary/coordinates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Coordinate Systems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/auxiliary/products/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Product Registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    canvod-grids
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    canvod-grids
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/grids/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    canvod-vod
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    canvod-vod
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/vod/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    canvod-store
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    canvod-store
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/store/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/store/icechunk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Icechunk Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/store/storage-strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Storage Strategies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    canvod-viz
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    canvod-viz
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/viz/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    canvod-utils
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    canvod-utils
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/utils/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CONTRIBUTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/development.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/architecture-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture & Design Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../build-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tooling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Release & Publishing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Release & Publishing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../VERSIONING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Versioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../RELEASING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/PYPI_SETUP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PyPI Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/ZENODO_SETUP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Zenodo DOI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/OIDC_EXPLAINED/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OIDC Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/HOW_RELEASE_WORKS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Internals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    canvodpy
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="././" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    canvodpy
  

    
  </span>
  
  

      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#level-1-convenience-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 1 — Convenience Functions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.process_date" class="md-nav__link">
    <span class="md-ellipsis">
      
        process_date
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="process_date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.process_date--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.process_date--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.process_date--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.process_date--with-custom-settings" class="md-nav__link">
    <span class="md-ellipsis">
      
        With custom settings
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.calculate_vod" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_vod
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="calculate_vod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.calculate_vod--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.calculate_vod--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.calculate_vod--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.preview_processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        preview_processing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="preview_processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.preview_processing--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.preview_processing--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.preview_processing--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-2-fluent-workflow-deferred-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 2 — Fluent Workflow (Deferred Execution)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        VODWorkflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VODWorkflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow--attributes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Attributes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.process_date" class="md-nav__link">
    <span class="md-ellipsis">
      
        process_date
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="process_date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.process_date--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.process_date--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.process_date--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.process_date--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.calculate_vod" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_vod
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="calculate_vod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.calculate_vod--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.calculate_vod--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.calculate_vod--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.calculate_vod--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __repr__
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        FluentWorkflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FluentWorkflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.read" class="md-nav__link">
    <span class="md-ellipsis">
      
        read
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="read">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.read--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.preprocess" class="md-nav__link">
    <span class="md-ellipsis">
      
        preprocess
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="preprocess">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.preprocess--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.grid" class="md-nav__link">
    <span class="md-ellipsis">
      
        grid
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="grid">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.grid--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.vod" class="md-nav__link">
    <span class="md-ellipsis">
      
        vod
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="vod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.vod--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.result" class="md-nav__link">
    <span class="md-ellipsis">
      
        result
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.to_store" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_store
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.plot" class="md-nav__link">
    <span class="md-ellipsis">
      
        plot
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.explain" class="md-nav__link">
    <span class="md-ellipsis">
      
        explain
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="explain">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.explain--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-3-vodworkflow-eager-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 3 — VODWorkflow (Eager Execution)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site" class="md-nav__link">
    <span class="md-ellipsis">
      
        Site
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Site">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Site--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Site--attributes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Attributes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Site--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site--create-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create pipeline
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site--access-stores" class="md-nav__link">
    <span class="md-ellipsis">
      
        Access stores
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site.receivers" class="md-nav__link">
    <span class="md-ellipsis">
      
        receivers
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site.active_receivers" class="md-nav__link">
    <span class="md-ellipsis">
      
        active_receivers
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site.vod_analyses" class="md-nav__link">
    <span class="md-ellipsis">
      
        vod_analyses
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site.rinex_store" class="md-nav__link">
    <span class="md-ellipsis">
      
        rinex_store
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site.vod_store" class="md-nav__link">
    <span class="md-ellipsis">
      
        vod_store
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site.pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        pipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Site.pipeline--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Site.pipeline--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Site.pipeline--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline--from-site-object" class="md-nav__link">
    <span class="md-ellipsis">
      
        From site object
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline--or-directly-from-name" class="md-nav__link">
    <span class="md-ellipsis">
      
        Or directly from name
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline--process-single-date" class="md-nav__link">
    <span class="md-ellipsis">
      
        Process single date
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline--process-range" class="md-nav__link">
    <span class="md-ellipsis">
      
        Process range
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_date" class="md-nav__link">
    <span class="md-ellipsis">
      
        process_date
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="process_date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_date--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_date--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_date--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_date--access-individual-receiver" class="md-nav__link">
    <span class="md-ellipsis">
      
        Access individual receiver
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_range" class="md-nav__link">
    <span class="md-ellipsis">
      
        process_range
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="process_range">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_range--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_range--yields" class="md-nav__link">
    <span class="md-ellipsis">
      
        Yields
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_range--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.calculate_vod" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_vod
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="calculate_vod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.calculate_vod--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.calculate_vod--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.calculate_vod--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.preview" class="md-nav__link">
    <span class="md-ellipsis">
      
        preview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="preview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.preview--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.preview--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        VODWorkflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VODWorkflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow--attributes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Attributes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.process_date" class="md-nav__link">
    <span class="md-ellipsis">
      
        process_date
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="process_date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.process_date--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.process_date--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.process_date--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.process_date--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.calculate_vod" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_vod
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="calculate_vod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.calculate_vod--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.calculate_vod--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.calculate_vod--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.calculate_vod--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __repr__
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-4-functional-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 4 — Functional API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.read_rinex" class="md-nav__link">
    <span class="md-ellipsis">
      
        read_rinex
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="read_rinex">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.read_rinex--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.read_rinex--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.read_rinex--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.read_rinex--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.create_grid" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_grid
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="create_grid">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.create_grid--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.create_grid--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.create_grid--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.create_grid--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.assign_grid_cells" class="md-nav__link">
    <span class="md-ellipsis">
      
        assign_grid_cells
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="assign_grid_cells">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.assign_grid_cells--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.assign_grid_cells--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.assign_grid_cells--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.assign_grid_cells--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#factories" class="md-nav__link">
    <span class="md-ellipsis">
      
        Factories
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.ReaderFactory" class="md-nav__link">
    <span class="md-ellipsis">
      
        ReaderFactory
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ReaderFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.ReaderFactory--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.GridFactory" class="md-nav__link">
    <span class="md-ellipsis">
      
        GridFactory
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GridFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.GridFactory--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.VODFactory" class="md-nav__link">
    <span class="md-ellipsis">
      
        VODFactory
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VODFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODFactory--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.setup_logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        canvodpy.setup_logging
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.get_logger" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_logger
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_logger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.get_logger--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.get_logger--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.get_logger--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../canvod-readers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    canvod.readers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../canvod-auxiliary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    canvod.auxiliary
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../canvod-grids/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    canvod.grids
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../canvod-vod/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    canvod.vod
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../canvod-store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    canvod.store
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../canvod-viz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    canvod.viz
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../canvod-utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    canvod.utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#level-1-convenience-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 1 — Convenience Functions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.process_date" class="md-nav__link">
    <span class="md-ellipsis">
      
        process_date
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="process_date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.process_date--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.process_date--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.process_date--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.process_date--with-custom-settings" class="md-nav__link">
    <span class="md-ellipsis">
      
        With custom settings
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.calculate_vod" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_vod
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="calculate_vod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.calculate_vod--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.calculate_vod--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.calculate_vod--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.preview_processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        preview_processing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="preview_processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.preview_processing--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.preview_processing--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.preview_processing--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-2-fluent-workflow-deferred-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 2 — Fluent Workflow (Deferred Execution)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        VODWorkflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VODWorkflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow--attributes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Attributes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.process_date" class="md-nav__link">
    <span class="md-ellipsis">
      
        process_date
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="process_date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.process_date--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.process_date--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.process_date--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.process_date--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.calculate_vod" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_vod
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="calculate_vod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.calculate_vod--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.calculate_vod--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.calculate_vod--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.calculate_vod--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.workflow.VODWorkflow.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __repr__
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        FluentWorkflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FluentWorkflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.read" class="md-nav__link">
    <span class="md-ellipsis">
      
        read
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="read">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.read--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.preprocess" class="md-nav__link">
    <span class="md-ellipsis">
      
        preprocess
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="preprocess">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.preprocess--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.grid" class="md-nav__link">
    <span class="md-ellipsis">
      
        grid
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="grid">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.grid--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.vod" class="md-nav__link">
    <span class="md-ellipsis">
      
        vod
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="vod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.vod--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.result" class="md-nav__link">
    <span class="md-ellipsis">
      
        result
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.to_store" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_store
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.plot" class="md-nav__link">
    <span class="md-ellipsis">
      
        plot
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.explain" class="md-nav__link">
    <span class="md-ellipsis">
      
        explain
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="explain">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.FluentWorkflow.explain--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-3-vodworkflow-eager-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 3 — VODWorkflow (Eager Execution)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site" class="md-nav__link">
    <span class="md-ellipsis">
      
        Site
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Site">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Site--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Site--attributes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Attributes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Site--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site--create-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create pipeline
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site--access-stores" class="md-nav__link">
    <span class="md-ellipsis">
      
        Access stores
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site.receivers" class="md-nav__link">
    <span class="md-ellipsis">
      
        receivers
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site.active_receivers" class="md-nav__link">
    <span class="md-ellipsis">
      
        active_receivers
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site.vod_analyses" class="md-nav__link">
    <span class="md-ellipsis">
      
        vod_analyses
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site.rinex_store" class="md-nav__link">
    <span class="md-ellipsis">
      
        rinex_store
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site.vod_store" class="md-nav__link">
    <span class="md-ellipsis">
      
        vod_store
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Site.pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        pipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Site.pipeline--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Site.pipeline--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Site.pipeline--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline--from-site-object" class="md-nav__link">
    <span class="md-ellipsis">
      
        From site object
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline--or-directly-from-name" class="md-nav__link">
    <span class="md-ellipsis">
      
        Or directly from name
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline--process-single-date" class="md-nav__link">
    <span class="md-ellipsis">
      
        Process single date
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline--process-range" class="md-nav__link">
    <span class="md-ellipsis">
      
        Process range
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_date" class="md-nav__link">
    <span class="md-ellipsis">
      
        process_date
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="process_date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_date--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_date--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_date--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_date--access-individual-receiver" class="md-nav__link">
    <span class="md-ellipsis">
      
        Access individual receiver
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_range" class="md-nav__link">
    <span class="md-ellipsis">
      
        process_range
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="process_range">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_range--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_range--yields" class="md-nav__link">
    <span class="md-ellipsis">
      
        Yields
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.process_range--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.calculate_vod" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_vod
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="calculate_vod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.calculate_vod--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.calculate_vod--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.calculate_vod--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.preview" class="md-nav__link">
    <span class="md-ellipsis">
      
        preview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="preview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.preview--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.Pipeline.preview--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        VODWorkflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VODWorkflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow--attributes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Attributes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.process_date" class="md-nav__link">
    <span class="md-ellipsis">
      
        process_date
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="process_date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.process_date--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.process_date--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.process_date--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.process_date--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.calculate_vod" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_vod
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="calculate_vod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.calculate_vod--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.calculate_vod--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.calculate_vod--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.calculate_vod--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.VODWorkflow.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __repr__
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-4-functional-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 4 — Functional API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.read_rinex" class="md-nav__link">
    <span class="md-ellipsis">
      
        read_rinex
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="read_rinex">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.read_rinex--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.read_rinex--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.read_rinex--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.read_rinex--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.create_grid" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_grid
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="create_grid">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.create_grid--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.create_grid--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.create_grid--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.create_grid--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.assign_grid_cells" class="md-nav__link">
    <span class="md-ellipsis">
      
        assign_grid_cells
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="assign_grid_cells">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.assign_grid_cells--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.assign_grid_cells--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.assign_grid_cells--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.assign_grid_cells--notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#factories" class="md-nav__link">
    <span class="md-ellipsis">
      
        Factories
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.ReaderFactory" class="md-nav__link">
    <span class="md-ellipsis">
      
        ReaderFactory
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ReaderFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.ReaderFactory--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.GridFactory" class="md-nav__link">
    <span class="md-ellipsis">
      
        GridFactory
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GridFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.GridFactory--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.VODFactory" class="md-nav__link">
    <span class="md-ellipsis">
      
        VODFactory
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VODFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.VODFactory--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.setup_logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        canvodpy.setup_logging
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canvodpy.get_logger" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_logger
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_logger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#canvodpy.get_logger--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.get_logger--returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvodpy.get_logger--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../.." class="md-path__link">
        
  <span class="md-ellipsis">
    Home
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="././" class="md-path__link">
          
  <span class="md-ellipsis">
    API Reference
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  
  
  


<h1 id="canvodpy-api-reference">canvodpy API Reference<a class="headerlink" href="#canvodpy-api-reference" title="Permanent link">&para;</a></h1>
<p>Umbrella package providing a unified, four-level API for the canVODpy framework.</p>
<h2 id="level-1-convenience-functions">Level 1 — Convenience Functions<a class="headerlink" href="#level-1-convenience-functions" title="Permanent link">&para;</a></h2>
<p>One-liner functions for quick exploration.</p>


<div class="doc doc-object doc-function">



<a id="canvodpy.process_date"></a>
    <div class="doc doc-contents first">

        <p>Process RINEX data for one date (convenience function).</p>
<p>This is the simplest way to process GNSS data - just provide
the site name and date.</p>
<h3 id="canvodpy.process_date--parameters">Parameters<a class="headerlink" href="#canvodpy.process_date--parameters" title="Permanent link">&para;</a></h3>
<p>site : str
    Site name (e.g., "Rosalia")
date : str
    Date in YYYYDOY format (e.g., "2025001")
keep_vars : list[str], optional
    RINEX variables to keep (default: KEEP_RNX_VARS)
aux_agency : str, default "COD"
    Analysis center for auxiliary data
n_workers : int, default 12
    Number of parallel workers</p>
<h3 id="canvodpy.process_date--returns">Returns<a class="headerlink" href="#canvodpy.process_date--returns" title="Permanent link">&para;</a></h3>
<p>dict[str, xr.Dataset]
    Processed datasets for each receiver</p>
<h3 id="canvodpy.process_date--examples">Examples<a class="headerlink" href="#canvodpy.process_date--examples" title="Permanent link">&para;</a></h3>
<blockquote>
<blockquote>
<blockquote>
<p>from canvodpy import process_date
data = process_date("Rosalia", "2025001")
print(data.keys())
dict_keys(['canopy_01', 'canopy_02', 'reference_01'])</p>
<h2 id="canvodpy.process_date--with-custom-settings">With custom settings<a class="headerlink" href="#canvodpy.process_date--with-custom-settings" title="Permanent link">&para;</a></h2>
<p>data = process_date(
...     "Rosalia",
...     "2025001",
...     keep_vars=["C1C", "L1C"],
...     aux_agency="ESA"
... )</p>
</blockquote>
</blockquote>
</blockquote>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">process_date</span><span class="p">(</span>
    <span class="n">site</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">keep_vars</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">aux_agency</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;COD&quot;</span><span class="p">,</span>
    <span class="n">n_workers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Process RINEX data for one date (convenience function).</span>

<span class="sd">    This is the simplest way to process GNSS data - just provide</span>
<span class="sd">    the site name and date.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    site : str</span>
<span class="sd">        Site name (e.g., &quot;Rosalia&quot;)</span>
<span class="sd">    date : str</span>
<span class="sd">        Date in YYYYDOY format (e.g., &quot;2025001&quot;)</span>
<span class="sd">    keep_vars : list[str], optional</span>
<span class="sd">        RINEX variables to keep (default: KEEP_RNX_VARS)</span>
<span class="sd">    aux_agency : str, default &quot;COD&quot;</span>
<span class="sd">        Analysis center for auxiliary data</span>
<span class="sd">    n_workers : int, default 12</span>
<span class="sd">        Number of parallel workers</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dict[str, xr.Dataset]</span>
<span class="sd">        Processed datasets for each receiver</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; from canvodpy import process_date</span>
<span class="sd">    &gt;&gt;&gt; data = process_date(&quot;Rosalia&quot;, &quot;2025001&quot;)</span>
<span class="sd">    &gt;&gt;&gt; print(data.keys())</span>
<span class="sd">    dict_keys([&#39;canopy_01&#39;, &#39;canopy_02&#39;, &#39;reference_01&#39;])</span>

<span class="sd">    &gt;&gt;&gt; # With custom settings</span>
<span class="sd">    &gt;&gt;&gt; data = process_date(</span>
<span class="sd">    ...     &quot;Rosalia&quot;,</span>
<span class="sd">    ...     &quot;2025001&quot;,</span>
<span class="sd">    ...     keep_vars=[&quot;C1C&quot;, &quot;L1C&quot;],</span>
<span class="sd">    ...     aux_agency=&quot;ESA&quot;</span>
<span class="sd">    ... )</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span>
        <span class="n">site</span><span class="o">=</span><span class="n">site</span><span class="p">,</span>
        <span class="n">keep_vars</span><span class="o">=</span><span class="n">keep_vars</span><span class="p">,</span>
        <span class="n">aux_agency</span><span class="o">=</span><span class="n">aux_agency</span><span class="p">,</span>
        <span class="n">n_workers</span><span class="o">=</span><span class="n">n_workers</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">process_date</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">



<a id="canvodpy.calculate_vod"></a>
    <div class="doc doc-contents first">

        <p>Calculate VOD for a receiver pair (convenience function).</p>
<p>This is the simplest way to calculate VOD - just provide
site, receivers, and date.</p>
<h3 id="canvodpy.calculate_vod--parameters">Parameters<a class="headerlink" href="#canvodpy.calculate_vod--parameters" title="Permanent link">&para;</a></h3>
<p>site : str
    Site name
canopy : str
    Canopy receiver name
reference : str
    Reference receiver name
date : str
    Date in YYYYDOY format
keep_vars : list[str], optional
    RINEX variables to keep
aux_agency : str, default "COD"
    Analysis center</p>
<h3 id="canvodpy.calculate_vod--returns">Returns<a class="headerlink" href="#canvodpy.calculate_vod--returns" title="Permanent link">&para;</a></h3>
<p>xr.Dataset
    VOD analysis results</p>
<h3 id="canvodpy.calculate_vod--examples">Examples<a class="headerlink" href="#canvodpy.calculate_vod--examples" title="Permanent link">&para;</a></h3>
<blockquote>
<blockquote>
<blockquote>
<p>from canvodpy import calculate_vod
vod = calculate_vod(
...     site="Rosalia",
...     canopy="canopy_01",
...     reference="reference_01",
...     date="2025001"
... )
print(vod.vod.mean().values)
0.42</p>
</blockquote>
</blockquote>
</blockquote>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calculate_vod</span><span class="p">(</span>
    <span class="n">site</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">canopy</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">reference</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">keep_vars</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">aux_agency</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;COD&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate VOD for a receiver pair (convenience function).</span>

<span class="sd">    This is the simplest way to calculate VOD - just provide</span>
<span class="sd">    site, receivers, and date.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    site : str</span>
<span class="sd">        Site name</span>
<span class="sd">    canopy : str</span>
<span class="sd">        Canopy receiver name</span>
<span class="sd">    reference : str</span>
<span class="sd">        Reference receiver name</span>
<span class="sd">    date : str</span>
<span class="sd">        Date in YYYYDOY format</span>
<span class="sd">    keep_vars : list[str], optional</span>
<span class="sd">        RINEX variables to keep</span>
<span class="sd">    aux_agency : str, default &quot;COD&quot;</span>
<span class="sd">        Analysis center</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    xr.Dataset</span>
<span class="sd">        VOD analysis results</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; from canvodpy import calculate_vod</span>
<span class="sd">    &gt;&gt;&gt; vod = calculate_vod(</span>
<span class="sd">    ...     site=&quot;Rosalia&quot;,</span>
<span class="sd">    ...     canopy=&quot;canopy_01&quot;,</span>
<span class="sd">    ...     reference=&quot;reference_01&quot;,</span>
<span class="sd">    ...     date=&quot;2025001&quot;</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; print(vod.vod.mean().values)</span>
<span class="sd">    0.42</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span>
        <span class="n">site</span><span class="o">=</span><span class="n">site</span><span class="p">,</span>
        <span class="n">keep_vars</span><span class="o">=</span><span class="n">keep_vars</span><span class="p">,</span>
        <span class="n">aux_agency</span><span class="o">=</span><span class="n">aux_agency</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">calculate_vod</span><span class="p">(</span><span class="n">canopy</span><span class="p">,</span> <span class="n">reference</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">



<a id="canvodpy.preview_processing"></a>
    <div class="doc doc-contents first">

        <p>Preview processing plan for a site (convenience function).</p>
<h3 id="canvodpy.preview_processing--parameters">Parameters<a class="headerlink" href="#canvodpy.preview_processing--parameters" title="Permanent link">&para;</a></h3>
<p>site : str
    Site name</p>
<h3 id="canvodpy.preview_processing--returns">Returns<a class="headerlink" href="#canvodpy.preview_processing--returns" title="Permanent link">&para;</a></h3>
<p>dict
    Processing plan summary</p>
<h3 id="canvodpy.preview_processing--examples">Examples<a class="headerlink" href="#canvodpy.preview_processing--examples" title="Permanent link">&para;</a></h3>
<blockquote>
<blockquote>
<blockquote>
<p>from canvodpy import preview_processing
plan = preview_processing("Rosalia")
print(f"Total files: {plan['total_files']}")
Total files: 8640</p>
</blockquote>
</blockquote>
</blockquote>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">preview_processing</span><span class="p">(</span><span class="n">site</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Preview processing plan for a site (convenience function).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    site : str</span>
<span class="sd">        Site name</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dict</span>
<span class="sd">        Processing plan summary</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; from canvodpy import preview_processing</span>
<span class="sd">    &gt;&gt;&gt; plan = preview_processing(&quot;Rosalia&quot;)</span>
<span class="sd">    &gt;&gt;&gt; print(f&quot;Total files: {plan[&#39;total_files&#39;]}&quot;)</span>
<span class="sd">    Total files: 8640</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">dry_run</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">preview</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><h2 id="level-2-fluent-workflow-deferred-execution">Level 2 — Fluent Workflow (Deferred Execution)<a class="headerlink" href="#level-2-fluent-workflow-deferred-execution" title="Permanent link">&para;</a></h2>
<p>Chainable pipeline where steps are recorded and executed only when a
terminal method (<code>.result()</code>, <code>.to_store()</code>, <code>.plot()</code>) is called.</p>


<div class="doc doc-object doc-module">



<a id="canvodpy.workflow"></a>
    <div class="doc doc-contents first">

        <p>VOD workflow orchestration using component factories.</p>
<p>Provides high-level workflow coordination with structured logging and
extensibility through factory pattern.</p>
<h3 id="canvodpy.workflow--examples">Examples<a class="headerlink" href="#canvodpy.workflow--examples" title="Permanent link">&para;</a></h3>
<p>Basic workflow:</p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; from canvodpy import VODWorkflow
&gt;&gt;&gt; workflow = VODWorkflow(site=&quot;Rosalia&quot;)
&gt;&gt;&gt; result = workflow.process_date(&quot;2025001&quot;)
</code></pre></div>
<p>With custom components:</p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; workflow = VODWorkflow(
...     site=&quot;Rosalia&quot;,
...     grid=&quot;equal_area&quot;,
...     grid_params={&quot;angular_resolution&quot;: 5.0},
... )
&gt;&gt;&gt; vod = workflow.calculate_vod(&quot;canopy_01&quot;, &quot;reference_01&quot;, &quot;2025001&quot;)
</code></pre></div>
<p>Debug logging:</p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; workflow = VODWorkflow(site=&quot;Rosalia&quot;, log_level=&quot;DEBUG&quot;)
&gt;&gt;&gt; # All logs include site=&quot;Rosalia&quot; context
</code></pre></div>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="canvodpy.workflow.VODWorkflow" class="doc doc-heading">
            <code>VODWorkflow</code>


<a href="#canvodpy.workflow.VODWorkflow" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">



        <p>Orchestrate complete VOD analysis workflow.</p>
<p>Uses component factories for extensibility and structured logging
for LLM-assisted debugging. Replaces legacy Site + Pipeline pattern.</p>
<h4 id="canvodpy.workflow.VODWorkflow--parameters">Parameters<a class="headerlink" href="#canvodpy.workflow.VODWorkflow--parameters" title="Permanent link">&para;</a></h4>
<p>site : str or Site
    Site name or Site object
reader : str, default="rinex3"
    Registered reader name
grid : str, default="equal_area"
    Registered grid name
vod_calculator : str, default="tau_omega"
    Registered VOD calculator name
grid_params : dict, optional
    Parameters for grid creation (angular_resolution, cutoff_theta)
keep_vars : list[str], optional
    RINEX variables to keep. Defaults to KEEP_RNX_VARS.
log_level : str, default="INFO"
    Logging level (DEBUG, INFO, WARNING, ERROR)</p>
<h4 id="canvodpy.workflow.VODWorkflow--attributes">Attributes<a class="headerlink" href="#canvodpy.workflow.VODWorkflow--attributes" title="Permanent link">&para;</a></h4>
<p>site : Site
    Site configuration
grid : GridData
    Hemisphere grid structure
log : BoundLogger
    Structured logger with site context</p>
<h4 id="canvodpy.workflow.VODWorkflow--examples">Examples<a class="headerlink" href="#canvodpy.workflow.VODWorkflow--examples" title="Permanent link">&para;</a></h4>
<p>Process one date:</p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; workflow = VODWorkflow(site=&quot;Rosalia&quot;)
&gt;&gt;&gt; data = workflow.process_date(&quot;2025001&quot;)
&gt;&gt;&gt; print(data.keys())
dict_keys([&#39;canopy_01&#39;, &#39;reference_01&#39;])
</code></pre></div>
<p>Calculate VOD:</p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; vod = workflow.calculate_vod(
...     &quot;canopy_01&quot;, &quot;reference_01&quot;, &quot;2025001&quot;
... )
&gt;&gt;&gt; print(vod.VOD.mean().item())
0.42
</code></pre></div>
<p>Custom grid:</p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; workflow = VODWorkflow(
...     site=&quot;Rosalia&quot;,
...     grid=&quot;equal_area&quot;,
...     grid_params={&quot;angular_resolution&quot;: 5.0},
... )
</code></pre></div>
<h4 id="canvodpy.workflow.VODWorkflow--notes">Notes<a class="headerlink" href="#canvodpy.workflow.VODWorkflow--notes" title="Permanent link">&para;</a></h4>
<p>Preserves logical flow from legacy API:
Site → Pipeline → process_date → load → augment → grid → calculate</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>canvodpy/src/canvodpy/workflow.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">VODWorkflow</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Orchestrate complete VOD analysis workflow.</span>

<span class="sd">    Uses component factories for extensibility and structured logging</span>
<span class="sd">    for LLM-assisted debugging. Replaces legacy Site + Pipeline pattern.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    site : str or Site</span>
<span class="sd">        Site name or Site object</span>
<span class="sd">    reader : str, default=&quot;rinex3&quot;</span>
<span class="sd">        Registered reader name</span>
<span class="sd">    grid : str, default=&quot;equal_area&quot;</span>
<span class="sd">        Registered grid name</span>
<span class="sd">    vod_calculator : str, default=&quot;tau_omega&quot;</span>
<span class="sd">        Registered VOD calculator name</span>
<span class="sd">    grid_params : dict, optional</span>
<span class="sd">        Parameters for grid creation (angular_resolution, cutoff_theta)</span>
<span class="sd">    keep_vars : list[str], optional</span>
<span class="sd">        RINEX variables to keep. Defaults to KEEP_RNX_VARS.</span>
<span class="sd">    log_level : str, default=&quot;INFO&quot;</span>
<span class="sd">        Logging level (DEBUG, INFO, WARNING, ERROR)</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    site : Site</span>
<span class="sd">        Site configuration</span>
<span class="sd">    grid : GridData</span>
<span class="sd">        Hemisphere grid structure</span>
<span class="sd">    log : BoundLogger</span>
<span class="sd">        Structured logger with site context</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    Process one date:</span>

<span class="sd">        &gt;&gt;&gt; workflow = VODWorkflow(site=&quot;Rosalia&quot;)</span>
<span class="sd">        &gt;&gt;&gt; data = workflow.process_date(&quot;2025001&quot;)</span>
<span class="sd">        &gt;&gt;&gt; print(data.keys())</span>
<span class="sd">        dict_keys([&#39;canopy_01&#39;, &#39;reference_01&#39;])</span>

<span class="sd">    Calculate VOD:</span>

<span class="sd">        &gt;&gt;&gt; vod = workflow.calculate_vod(</span>
<span class="sd">        ...     &quot;canopy_01&quot;, &quot;reference_01&quot;, &quot;2025001&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; print(vod.VOD.mean().item())</span>
<span class="sd">        0.42</span>

<span class="sd">    Custom grid:</span>

<span class="sd">        &gt;&gt;&gt; workflow = VODWorkflow(</span>
<span class="sd">        ...     site=&quot;Rosalia&quot;,</span>
<span class="sd">        ...     grid=&quot;equal_area&quot;,</span>
<span class="sd">        ...     grid_params={&quot;angular_resolution&quot;: 5.0},</span>
<span class="sd">        ... )</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Preserves logical flow from legacy API:</span>
<span class="sd">    Site → Pipeline → process_date → load → augment → grid → calculate</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">site</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Site</span><span class="p">,</span>
        <span class="n">reader</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;rinex3&quot;</span><span class="p">,</span>
        <span class="n">grid</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;equal_area&quot;</span><span class="p">,</span>
        <span class="n">vod_calculator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;tau_omega&quot;</span><span class="p">,</span>
        <span class="n">grid_params</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">keep_vars</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">log_level</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize workflow with component factories.&quot;&quot;&quot;</span>
        <span class="c1"># Handle site input</span>
        <span class="n">site_name</span> <span class="o">=</span> <span class="n">site</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">site</span><span class="o">.</span><span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site</span> <span class="o">=</span> <span class="n">Site</span><span class="p">(</span><span class="n">site</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">site</span>

        <span class="c1"># Setup logging with site context</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span> <span class="n">BoundLogger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">site</span><span class="o">=</span><span class="n">site_name</span><span class="p">)</span>

        <span class="c1"># Store configuration</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reader_name</span> <span class="o">=</span> <span class="n">reader</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_name</span> <span class="o">=</span> <span class="n">grid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vod_calculator_name</span> <span class="o">=</span> <span class="n">vod_calculator</span>
        <span class="k">if</span> <span class="n">keep_vars</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.utils.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_config</span>

            <span class="n">keep_vars</span> <span class="o">=</span> <span class="n">load_config</span><span class="p">()</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">keep_rnx_vars</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span> <span class="o">=</span> <span class="n">keep_vars</span>

        <span class="c1"># Create grid using factory (cached for workflow)</span>
        <span class="n">grid_params</span> <span class="o">=</span> <span class="n">grid_params</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">builder</span> <span class="o">=</span> <span class="n">GridFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="o">**</span><span class="n">grid_params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;workflow_initialized&quot;</span><span class="p">,</span>
            <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
            <span class="n">reader</span><span class="o">=</span><span class="n">reader</span><span class="p">,</span>
            <span class="n">calculator</span><span class="o">=</span><span class="n">vod_calculator</span><span class="p">,</span>
            <span class="n">ncells</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">ncells</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">process_date</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">receivers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Process RINEX data for one date.</span>

<span class="sd">        Workflow: load_rinex → augment → assign_grid → store</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        date : str</span>
<span class="sd">            Date in YYYYDOY format (e.g., &quot;2025001&quot; = Jan 1, 2025)</span>
<span class="sd">        receivers : list[str], optional</span>
<span class="sd">            Receiver names to process. If None, use all active receivers.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict[str, xr.Dataset]</span>
<span class="sd">            Processed datasets keyed by receiver name. Each dataset has</span>
<span class="sd">            cell assignments and filtered data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; workflow = VODWorkflow(&quot;Rosalia&quot;)</span>
<span class="sd">        &gt;&gt;&gt; data = workflow.process_date(&quot;2025001&quot;)</span>
<span class="sd">        &gt;&gt;&gt; canopy = data[&quot;canopy_01&quot;]</span>
<span class="sd">        &gt;&gt;&gt; print(canopy.sizes)</span>
<span class="sd">        {&#39;epoch&#39;: 2880, &#39;sv&#39;: 32, &#39;cell&#39;: 324}</span>

<span class="sd">        Process specific receivers:</span>

<span class="sd">        &gt;&gt;&gt; data = workflow.process_date(</span>
<span class="sd">        ...     &quot;2025001&quot;,</span>
<span class="sd">        ...     receivers=[&quot;canopy_01&quot;]</span>
<span class="sd">        ... )</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        This is the main entry point for data processing. Orchestrates</span>
<span class="sd">        the full pipeline from raw RINEX to grid-assigned observations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;process_date_started&quot;</span><span class="p">)</span>

        <span class="c1"># Get receivers to process</span>
        <span class="n">receiver_list</span> <span class="o">=</span> <span class="n">receivers</span> <span class="ow">or</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">active_receivers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">recv_name</span> <span class="ow">in</span> <span class="n">receiver_list</span><span class="p">:</span>
            <span class="n">recv_log</span> <span class="o">=</span> <span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">receiver</span><span class="o">=</span><span class="n">recv_name</span><span class="p">)</span>
            <span class="n">recv_log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;processing_receiver&quot;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Step 1: Load RINEX</span>
                <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_rinex</span><span class="p">(</span><span class="n">recv_name</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">recv_log</span><span class="p">)</span>

                <span class="c1"># Step 2: Augment (preprocessing)</span>
                <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_augment_data</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">recv_log</span><span class="p">)</span>

                <span class="c1"># Step 3: Assign grid cells</span>
                <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assign_grid_cells</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">recv_log</span><span class="p">)</span>

                <span class="n">results</span><span class="p">[</span><span class="n">recv_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span>
                <span class="n">recv_log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;processing_complete&quot;</span><span class="p">,</span>
                    <span class="n">variables</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">data_vars</span><span class="p">),</span>
                    <span class="n">cells</span><span class="o">=</span><span class="n">ds</span><span class="o">.</span><span class="n">sizes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cell&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="p">)</span>

            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">recv_log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;processing_failed&quot;</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">raise</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;process_date_complete&quot;</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">results</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_vod</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">canopy_receiver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">sky_receiver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">use_cached</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate VOD from canopy and sky receivers.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        canopy_receiver : str</span>
<span class="sd">            Receiver under canopy (e.g., &quot;canopy_01&quot;)</span>
<span class="sd">        sky_receiver : str</span>
<span class="sd">            Sky reference receiver (e.g., &quot;reference_01&quot;)</span>
<span class="sd">        date : str</span>
<span class="sd">            Date in YYYYDOY format</span>
<span class="sd">        use_cached : bool, default=True</span>
<span class="sd">            If True, reuse datasets from process_date cache</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        xr.Dataset</span>
<span class="sd">            VOD dataset with variables:</span>
<span class="sd">            - VOD : Vegetation Optical Depth</span>
<span class="sd">            - phi : Azimuth angles</span>
<span class="sd">            - theta : Elevation angles</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; workflow = VODWorkflow(&quot;Rosalia&quot;)</span>
<span class="sd">        &gt;&gt;&gt; vod = workflow.calculate_vod(</span>
<span class="sd">        ...     &quot;canopy_01&quot;, &quot;reference_01&quot;, &quot;2025001&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; print(vod.VOD.mean().item())</span>
<span class="sd">        0.42</span>

<span class="sd">        Without caching:</span>

<span class="sd">        &gt;&gt;&gt; vod = workflow.calculate_vod(</span>
<span class="sd">        ...     &quot;canopy_01&quot;,</span>
<span class="sd">        ...     &quot;reference_01&quot;,</span>
<span class="sd">        ...     &quot;2025001&quot;,</span>
<span class="sd">        ...     use_cached=False,</span>
<span class="sd">        ... )</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Uses VODFactory to create calculator. Supports community</span>
<span class="sd">        extensions via factory registration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">canopy</span><span class="o">=</span><span class="n">canopy_receiver</span><span class="p">,</span> <span class="n">sky</span><span class="o">=</span><span class="n">sky_receiver</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;calculate_vod_started&quot;</span><span class="p">)</span>

        <span class="c1"># Load or retrieve datasets</span>
        <span class="k">if</span> <span class="n">use_cached</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_dataset_cache&quot;</span><span class="p">):</span>
            <span class="n">canopy_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dataset_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">canopy_receiver</span><span class="p">)</span>
            <span class="n">sky_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dataset_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">sky_receiver</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">canopy_ds</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">sky_ds</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Process if not cached</span>
        <span class="k">if</span> <span class="n">canopy_ds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;loading_canopy&quot;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_date</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="p">[</span><span class="n">canopy_receiver</span><span class="p">])</span>
            <span class="n">canopy_ds</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">canopy_receiver</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">sky_ds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;loading_sky&quot;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_date</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="p">[</span><span class="n">sky_receiver</span><span class="p">])</span>
            <span class="n">sky_ds</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">sky_receiver</span><span class="p">]</span>

        <span class="c1"># Use factory to create calculator</span>
        <span class="n">calculator</span> <span class="o">=</span> <span class="n">VODFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vod_calculator_name</span><span class="p">,</span>
            <span class="n">canopy_ds</span><span class="o">=</span><span class="n">canopy_ds</span><span class="p">,</span>
            <span class="n">sky_ds</span><span class="o">=</span><span class="n">sky_ds</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Calculate VOD</span>
        <span class="n">vod_ds</span> <span class="o">=</span> <span class="n">calculator</span><span class="o">.</span><span class="n">calculate_vod</span><span class="p">()</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;calculate_vod_complete&quot;</span><span class="p">,</span>
            <span class="n">cells</span><span class="o">=</span><span class="n">vod_ds</span><span class="o">.</span><span class="n">sizes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cell&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;cell&quot;</span> <span class="ow">in</span> <span class="n">vod_ds</span><span class="o">.</span><span class="n">sizes</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">vod_mean</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">vod_ds</span><span class="o">.</span><span class="n">VOD</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">())</span> <span class="k">if</span> <span class="s2">&quot;VOD&quot;</span> <span class="ow">in</span> <span class="n">vod_ds</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">vod_ds</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_load_rinex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">receiver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">log</span><span class="p">:</span> <span class="n">BoundLogger</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load RINEX using factory.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        receiver : str</span>
<span class="sd">            Receiver name</span>
<span class="sd">        date : str</span>
<span class="sd">            Date in YYYYDOY format</span>
<span class="sd">        log : BoundLogger</span>
<span class="sd">            Logger with receiver context</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        xr.Dataset</span>
<span class="sd">            RINEX data</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Uses ReaderFactory to create reader instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;load_rinex_started&quot;</span><span class="p">)</span>

        <span class="c1"># Get file path from site config</span>
        <span class="n">rinex_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_rinex_path</span><span class="p">(</span><span class="n">receiver</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>

        <span class="c1"># Create reader using factory</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">ReaderFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reader_name</span><span class="p">,</span>
            <span class="n">path</span><span class="o">=</span><span class="n">rinex_path</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Read data</span>
        <span class="n">ds</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

        <span class="c1"># Filter variables</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span><span class="p">:</span>
            <span class="n">keep_vars_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span><span class="p">)</span>
            <span class="n">drop_vars</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">data_vars</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">keep_vars_set</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">drop_vars</span><span class="p">:</span>
                <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">drop_vars</span><span class="p">(</span><span class="n">drop_vars</span><span class="p">)</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;load_rinex_complete&quot;</span><span class="p">,</span> <span class="n">variables</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">data_vars</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ds</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_augment_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">:</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">log</span><span class="p">:</span> <span class="n">BoundLogger</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Apply augmentation steps.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ds : xr.Dataset</span>
<span class="sd">            Input dataset</span>
<span class="sd">        log : BoundLogger</span>
<span class="sd">            Logger with context</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        xr.Dataset</span>
<span class="sd">            Augmented dataset</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Currently passes through. Will use AugmentationFactory</span>
<span class="sd">        for preprocessing steps (filtering, interpolation, etc.)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;augment_data_started&quot;</span><span class="p">)</span>

        <span class="c1"># TODO: Use AugmentationFactory for preprocessing</span>
        <span class="c1"># For now, pass through</span>
        <span class="c1"># augmentations = [</span>
        <span class="c1">#     AugmentationFactory.create(&quot;hampel&quot;, window=5),</span>
        <span class="c1">#     AugmentationFactory.create(&quot;interpolate&quot;, method=&quot;linear&quot;),</span>
        <span class="c1"># ]</span>
        <span class="c1"># for aug in augmentations:</span>
        <span class="c1">#     ds = aug.apply(ds)</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;augment_data_complete&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ds</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_assign_grid_cells</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">:</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">log</span><span class="p">:</span> <span class="n">BoundLogger</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Assign grid cells to observations.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ds : xr.Dataset</span>
<span class="sd">            Dataset with phi, theta coordinates</span>
<span class="sd">        log : BoundLogger</span>
<span class="sd">            Logger with context</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        xr.Dataset</span>
<span class="sd">            Dataset with added &#39;cell&#39; coordinate</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Uses grid operations from canvod.grids package.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;assign_grid_cells_started&quot;</span><span class="p">)</span>

        <span class="c1"># Use grid operations</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.grids</span><span class="w"> </span><span class="kn">import</span> <span class="n">add_cell_ids_to_ds_fast</span>

        <span class="n">ds_with_cells</span> <span class="o">=</span> <span class="n">add_cell_ids_to_ds_fast</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="p">)</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;assign_grid_cells_complete&quot;</span><span class="p">,</span>
            <span class="n">cells</span><span class="o">=</span><span class="n">ds_with_cells</span><span class="o">.</span><span class="n">sizes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cell&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">ds_with_cells</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_rinex_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">receiver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get RINEX file path from site configuration.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        receiver : str</span>
<span class="sd">            Receiver name</span>
<span class="sd">        date : str</span>
<span class="sd">            Date in YYYYDOY format</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Path</span>
<span class="sd">            Path to RINEX file</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If receiver not found in site configuration</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">receiver</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">receivers</span><span class="p">:</span>
            <span class="n">available</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">receivers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Receiver &#39;</span><span class="si">{</span><span class="n">receiver</span><span class="si">}</span><span class="s2">&#39; not in site. Available: </span><span class="si">{</span><span class="n">available</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># Use internal site object to get path</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">get_rinex_path</span><span class="p">(</span><span class="n">receiver</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;String representation.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;VODWorkflow(site=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;grid=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grid_name</span><span class="si">}</span><span class="s2">&#39;, reader=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">reader_name</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="canvodpy.workflow.VODWorkflow.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">reader</span><span class="o">=</span><span class="s1">&#39;rinex3&#39;</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="s1">&#39;equal_area&#39;</span><span class="p">,</span> <span class="n">vod_calculator</span><span class="o">=</span><span class="s1">&#39;tau_omega&#39;</span><span class="p">,</span> <span class="n">grid_params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">keep_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">log_level</span><span class="o">=</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span></code>

<a href="#canvodpy.workflow.VODWorkflow.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initialize workflow with component factories.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/workflow.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">site</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Site</span><span class="p">,</span>
    <span class="n">reader</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;rinex3&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;equal_area&quot;</span><span class="p">,</span>
    <span class="n">vod_calculator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;tau_omega&quot;</span><span class="p">,</span>
    <span class="n">grid_params</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">keep_vars</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">log_level</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize workflow with component factories.&quot;&quot;&quot;</span>
    <span class="c1"># Handle site input</span>
    <span class="n">site_name</span> <span class="o">=</span> <span class="n">site</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">site</span><span class="o">.</span><span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">site</span> <span class="o">=</span> <span class="n">Site</span><span class="p">(</span><span class="n">site</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">site</span>

    <span class="c1"># Setup logging with site context</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span> <span class="n">BoundLogger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">site</span><span class="o">=</span><span class="n">site_name</span><span class="p">)</span>

    <span class="c1"># Store configuration</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reader_name</span> <span class="o">=</span> <span class="n">reader</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">grid_name</span> <span class="o">=</span> <span class="n">grid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">vod_calculator_name</span> <span class="o">=</span> <span class="n">vod_calculator</span>
    <span class="k">if</span> <span class="n">keep_vars</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.utils.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_config</span>

        <span class="n">keep_vars</span> <span class="o">=</span> <span class="n">load_config</span><span class="p">()</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">keep_rnx_vars</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span> <span class="o">=</span> <span class="n">keep_vars</span>

    <span class="c1"># Create grid using factory (cached for workflow)</span>
    <span class="n">grid_params</span> <span class="o">=</span> <span class="n">grid_params</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">builder</span> <span class="o">=</span> <span class="n">GridFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="o">**</span><span class="n">grid_params</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;workflow_initialized&quot;</span><span class="p">,</span>
        <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
        <span class="n">reader</span><span class="o">=</span><span class="n">reader</span><span class="p">,</span>
        <span class="n">calculator</span><span class="o">=</span><span class="n">vod_calculator</span><span class="p">,</span>
        <span class="n">ncells</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">ncells</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="canvodpy.workflow.VODWorkflow.process_date" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_date</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#canvodpy.workflow.VODWorkflow.process_date" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Process RINEX data for one date.</p>
<p>Workflow: load_rinex → augment → assign_grid → store</p>
<h5 id="canvodpy.workflow.VODWorkflow.process_date--parameters">Parameters<a class="headerlink" href="#canvodpy.workflow.VODWorkflow.process_date--parameters" title="Permanent link">&para;</a></h5>
<p>date : str
    Date in YYYYDOY format (e.g., "2025001" = Jan 1, 2025)
receivers : list[str], optional
    Receiver names to process. If None, use all active receivers.</p>
<h5 id="canvodpy.workflow.VODWorkflow.process_date--returns">Returns<a class="headerlink" href="#canvodpy.workflow.VODWorkflow.process_date--returns" title="Permanent link">&para;</a></h5>
<p>dict[str, xr.Dataset]
    Processed datasets keyed by receiver name. Each dataset has
    cell assignments and filtered data.</p>
<h5 id="canvodpy.workflow.VODWorkflow.process_date--examples">Examples<a class="headerlink" href="#canvodpy.workflow.VODWorkflow.process_date--examples" title="Permanent link">&para;</a></h5>
<blockquote>
<blockquote>
<blockquote>
<p 2880_="2880," 324="324" 32_="32," _cell_:="'cell':" _epoch_:="'epoch':" _sv_:="'sv':">workflow = VODWorkflow("Rosalia")
data = workflow.process_date("2025001")
canopy = data["canopy_01"]
print(canopy.sizes)</p>
</blockquote>
</blockquote>
</blockquote>
<p>Process specific receivers:</p>
<blockquote>
<blockquote>
<blockquote>
<p>data = workflow.process_date(
...     "2025001",
...     receivers=["canopy_01"]
... )</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="canvodpy.workflow.VODWorkflow.process_date--notes">Notes<a class="headerlink" href="#canvodpy.workflow.VODWorkflow.process_date--notes" title="Permanent link">&para;</a></h5>
<p>This is the main entry point for data processing. Orchestrates
the full pipeline from raw RINEX to grid-assigned observations.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/workflow.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">process_date</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">receivers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Process RINEX data for one date.</span>

<span class="sd">    Workflow: load_rinex → augment → assign_grid → store</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    date : str</span>
<span class="sd">        Date in YYYYDOY format (e.g., &quot;2025001&quot; = Jan 1, 2025)</span>
<span class="sd">    receivers : list[str], optional</span>
<span class="sd">        Receiver names to process. If None, use all active receivers.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dict[str, xr.Dataset]</span>
<span class="sd">        Processed datasets keyed by receiver name. Each dataset has</span>
<span class="sd">        cell assignments and filtered data.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; workflow = VODWorkflow(&quot;Rosalia&quot;)</span>
<span class="sd">    &gt;&gt;&gt; data = workflow.process_date(&quot;2025001&quot;)</span>
<span class="sd">    &gt;&gt;&gt; canopy = data[&quot;canopy_01&quot;]</span>
<span class="sd">    &gt;&gt;&gt; print(canopy.sizes)</span>
<span class="sd">    {&#39;epoch&#39;: 2880, &#39;sv&#39;: 32, &#39;cell&#39;: 324}</span>

<span class="sd">    Process specific receivers:</span>

<span class="sd">    &gt;&gt;&gt; data = workflow.process_date(</span>
<span class="sd">    ...     &quot;2025001&quot;,</span>
<span class="sd">    ...     receivers=[&quot;canopy_01&quot;]</span>
<span class="sd">    ... )</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    This is the main entry point for data processing. Orchestrates</span>
<span class="sd">    the full pipeline from raw RINEX to grid-assigned observations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;process_date_started&quot;</span><span class="p">)</span>

    <span class="c1"># Get receivers to process</span>
    <span class="n">receiver_list</span> <span class="o">=</span> <span class="n">receivers</span> <span class="ow">or</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">active_receivers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">recv_name</span> <span class="ow">in</span> <span class="n">receiver_list</span><span class="p">:</span>
        <span class="n">recv_log</span> <span class="o">=</span> <span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">receiver</span><span class="o">=</span><span class="n">recv_name</span><span class="p">)</span>
        <span class="n">recv_log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;processing_receiver&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Step 1: Load RINEX</span>
            <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_rinex</span><span class="p">(</span><span class="n">recv_name</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">recv_log</span><span class="p">)</span>

            <span class="c1"># Step 2: Augment (preprocessing)</span>
            <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_augment_data</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">recv_log</span><span class="p">)</span>

            <span class="c1"># Step 3: Assign grid cells</span>
            <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assign_grid_cells</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">recv_log</span><span class="p">)</span>

            <span class="n">results</span><span class="p">[</span><span class="n">recv_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span>
            <span class="n">recv_log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;processing_complete&quot;</span><span class="p">,</span>
                <span class="n">variables</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">data_vars</span><span class="p">),</span>
                <span class="n">cells</span><span class="o">=</span><span class="n">ds</span><span class="o">.</span><span class="n">sizes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cell&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">recv_log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;processing_failed&quot;</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">raise</span>

    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;process_date_complete&quot;</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="canvodpy.workflow.VODWorkflow.calculate_vod" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate_vod</span><span class="p">(</span><span class="n">canopy_receiver</span><span class="p">,</span> <span class="n">sky_receiver</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">use_cached</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#canvodpy.workflow.VODWorkflow.calculate_vod" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Calculate VOD from canopy and sky receivers.</p>
<h5 id="canvodpy.workflow.VODWorkflow.calculate_vod--parameters">Parameters<a class="headerlink" href="#canvodpy.workflow.VODWorkflow.calculate_vod--parameters" title="Permanent link">&para;</a></h5>
<p>canopy_receiver : str
    Receiver under canopy (e.g., "canopy_01")
sky_receiver : str
    Sky reference receiver (e.g., "reference_01")
date : str
    Date in YYYYDOY format
use_cached : bool, default=True
    If True, reuse datasets from process_date cache</p>
<h5 id="canvodpy.workflow.VODWorkflow.calculate_vod--returns">Returns<a class="headerlink" href="#canvodpy.workflow.VODWorkflow.calculate_vod--returns" title="Permanent link">&para;</a></h5>
<p>xr.Dataset
    VOD dataset with variables:
    - VOD : Vegetation Optical Depth
    - phi : Azimuth angles
    - theta : Elevation angles</p>
<h5 id="canvodpy.workflow.VODWorkflow.calculate_vod--examples">Examples<a class="headerlink" href="#canvodpy.workflow.VODWorkflow.calculate_vod--examples" title="Permanent link">&para;</a></h5>
<blockquote>
<blockquote>
<blockquote>
<p>workflow = VODWorkflow("Rosalia")
vod = workflow.calculate_vod(
...     "canopy_01", "reference_01", "2025001"
... )
print(vod.VOD.mean().item())
0.42</p>
</blockquote>
</blockquote>
</blockquote>
<p>Without caching:</p>
<blockquote>
<blockquote>
<blockquote>
<p>vod = workflow.calculate_vod(
...     "canopy_01",
...     "reference_01",
...     "2025001",
...     use_cached=False,
... )</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="canvodpy.workflow.VODWorkflow.calculate_vod--notes">Notes<a class="headerlink" href="#canvodpy.workflow.VODWorkflow.calculate_vod--notes" title="Permanent link">&para;</a></h5>
<p>Uses VODFactory to create calculator. Supports community
extensions via factory registration.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/workflow.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calculate_vod</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">canopy_receiver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">sky_receiver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">use_cached</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate VOD from canopy and sky receivers.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    canopy_receiver : str</span>
<span class="sd">        Receiver under canopy (e.g., &quot;canopy_01&quot;)</span>
<span class="sd">    sky_receiver : str</span>
<span class="sd">        Sky reference receiver (e.g., &quot;reference_01&quot;)</span>
<span class="sd">    date : str</span>
<span class="sd">        Date in YYYYDOY format</span>
<span class="sd">    use_cached : bool, default=True</span>
<span class="sd">        If True, reuse datasets from process_date cache</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    xr.Dataset</span>
<span class="sd">        VOD dataset with variables:</span>
<span class="sd">        - VOD : Vegetation Optical Depth</span>
<span class="sd">        - phi : Azimuth angles</span>
<span class="sd">        - theta : Elevation angles</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; workflow = VODWorkflow(&quot;Rosalia&quot;)</span>
<span class="sd">    &gt;&gt;&gt; vod = workflow.calculate_vod(</span>
<span class="sd">    ...     &quot;canopy_01&quot;, &quot;reference_01&quot;, &quot;2025001&quot;</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; print(vod.VOD.mean().item())</span>
<span class="sd">    0.42</span>

<span class="sd">    Without caching:</span>

<span class="sd">    &gt;&gt;&gt; vod = workflow.calculate_vod(</span>
<span class="sd">    ...     &quot;canopy_01&quot;,</span>
<span class="sd">    ...     &quot;reference_01&quot;,</span>
<span class="sd">    ...     &quot;2025001&quot;,</span>
<span class="sd">    ...     use_cached=False,</span>
<span class="sd">    ... )</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Uses VODFactory to create calculator. Supports community</span>
<span class="sd">    extensions via factory registration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">canopy</span><span class="o">=</span><span class="n">canopy_receiver</span><span class="p">,</span> <span class="n">sky</span><span class="o">=</span><span class="n">sky_receiver</span><span class="p">)</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;calculate_vod_started&quot;</span><span class="p">)</span>

    <span class="c1"># Load or retrieve datasets</span>
    <span class="k">if</span> <span class="n">use_cached</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_dataset_cache&quot;</span><span class="p">):</span>
        <span class="n">canopy_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dataset_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">canopy_receiver</span><span class="p">)</span>
        <span class="n">sky_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dataset_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">sky_receiver</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">canopy_ds</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">sky_ds</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Process if not cached</span>
    <span class="k">if</span> <span class="n">canopy_ds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;loading_canopy&quot;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_date</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="p">[</span><span class="n">canopy_receiver</span><span class="p">])</span>
        <span class="n">canopy_ds</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">canopy_receiver</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">sky_ds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;loading_sky&quot;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_date</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="p">[</span><span class="n">sky_receiver</span><span class="p">])</span>
        <span class="n">sky_ds</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">sky_receiver</span><span class="p">]</span>

    <span class="c1"># Use factory to create calculator</span>
    <span class="n">calculator</span> <span class="o">=</span> <span class="n">VODFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vod_calculator_name</span><span class="p">,</span>
        <span class="n">canopy_ds</span><span class="o">=</span><span class="n">canopy_ds</span><span class="p">,</span>
        <span class="n">sky_ds</span><span class="o">=</span><span class="n">sky_ds</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Calculate VOD</span>
    <span class="n">vod_ds</span> <span class="o">=</span> <span class="n">calculator</span><span class="o">.</span><span class="n">calculate_vod</span><span class="p">()</span>

    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;calculate_vod_complete&quot;</span><span class="p">,</span>
        <span class="n">cells</span><span class="o">=</span><span class="n">vod_ds</span><span class="o">.</span><span class="n">sizes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cell&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;cell&quot;</span> <span class="ow">in</span> <span class="n">vod_ds</span><span class="o">.</span><span class="n">sizes</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">vod_mean</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">vod_ds</span><span class="o">.</span><span class="n">VOD</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">())</span> <span class="k">if</span> <span class="s2">&quot;VOD&quot;</span> <span class="ow">in</span> <span class="n">vod_ds</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">vod_ds</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="canvodpy.workflow.VODWorkflow.__repr__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

<a href="#canvodpy.workflow.VODWorkflow.__repr__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>String representation.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/workflow.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;String representation.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;VODWorkflow(site=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;grid=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grid_name</span><span class="si">}</span><span class="s2">&#39;, reader=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">reader_name</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="canvodpy.FluentWorkflow"></a>
    <div class="doc doc-contents first">



        <p>Chainable, deferred-execution workflow for VOD analysis.</p>
<h3 id="canvodpy.FluentWorkflow--parameters">Parameters<a class="headerlink" href="#canvodpy.FluentWorkflow--parameters" title="Permanent link">&para;</a></h3>
<p>site : str or Site
    Site name or :class:<code>~canvodpy.api.Site</code> object.
reader : str
    Registered reader name (default <code>"rinex3"</code>).
grid_type : str
    Registered grid type (default <code>"equal_area"</code>).
vod_calculator : str
    Registered VOD calculator (default <code>"tau_omega"</code>).
keep_vars : list[str], optional
    RINEX variables to retain.  Defaults to :data:<code>KEEP_RNX_VARS</code>.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>canvodpy/src/canvodpy/fluent.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FluentWorkflow</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Chainable, deferred-execution workflow for VOD analysis.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    site : str or Site</span>
<span class="sd">        Site name or :class:`~canvodpy.api.Site` object.</span>
<span class="sd">    reader : str</span>
<span class="sd">        Registered reader name (default ``&quot;rinex3&quot;``).</span>
<span class="sd">    grid_type : str</span>
<span class="sd">        Registered grid type (default ``&quot;equal_area&quot;``).</span>
<span class="sd">    vod_calculator : str</span>
<span class="sd">        Registered VOD calculator (default ``&quot;tau_omega&quot;``).</span>
<span class="sd">    keep_vars : list[str], optional</span>
<span class="sd">        RINEX variables to retain.  Defaults to :data:`KEEP_RNX_VARS`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">site</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Site</span><span class="p">,</span>
        <span class="n">reader</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;rinex3&quot;</span><span class="p">,</span>
        <span class="n">grid_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;equal_area&quot;</span><span class="p">,</span>
        <span class="n">vod_calculator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;tau_omega&quot;</span><span class="p">,</span>
        <span class="n">keep_vars</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_plan</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># State populated by steps</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span><span class="p">:</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_grid</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Configuration</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_site</span> <span class="o">=</span> <span class="n">Site</span><span class="p">(</span><span class="n">site</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">site</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_reader_name</span> <span class="o">=</span> <span class="n">reader</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_grid_type</span> <span class="o">=</span> <span class="n">grid_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vod_calculator_name</span> <span class="o">=</span> <span class="n">vod_calculator</span>
        <span class="k">if</span> <span class="n">keep_vars</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.utils.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_config</span>

            <span class="n">keep_vars</span> <span class="o">=</span> <span class="n">load_config</span><span class="p">()</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">keep_rnx_vars</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_keep_vars</span> <span class="o">=</span> <span class="n">keep_vars</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">site</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="c1"># ------------------------------------------------------------------</span>
    <span class="c1"># Steps (deferred)</span>
    <span class="c1"># ------------------------------------------------------------------</span>

    <span class="nd">@step</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">receivers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FluentWorkflow</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load RINEX observations for *date*.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        date : str</span>
<span class="sd">            Date in ``YYYYDOY`` format (e.g. ``&quot;2025001&quot;``).</span>
<span class="sd">        receivers : list[str], optional</span>
<span class="sd">            Receiver names to load.  If ``None``, all active receivers</span>
<span class="sd">            for the site are loaded.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">receiver_list</span> <span class="o">=</span> <span class="n">receivers</span> <span class="ow">or</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">active_receivers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">receiver_list</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">get_rinex_path</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>
            <span class="n">reader_obj</span> <span class="o">=</span> <span class="n">ReaderFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_reader_name</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
            <span class="n">ds</span> <span class="o">=</span> <span class="n">reader_obj</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

            <span class="c1"># Filter variables</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_keep_vars</span><span class="p">:</span>
                <span class="n">drop</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">data_vars</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_keep_vars</span><span class="p">)]</span>
                <span class="k">if</span> <span class="n">drop</span><span class="p">:</span>
                    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">drop_vars</span><span class="p">(</span><span class="n">drop</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span>
            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;read_complete&quot;</span><span class="p">,</span> <span class="n">receiver</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>  <span class="c1"># never reached (decorator returns self), but aids type checkers</span>

    <span class="nd">@step</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">preprocess</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agency</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;COD&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FluentWorkflow</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply auxiliary preprocessing to loaded datasets.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        agency : str</span>
<span class="sd">            Analysis centre for auxiliary products (default ``&quot;COD&quot;``).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">agency</span><span class="o">=</span><span class="n">agency</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">ds</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.auxiliary</span><span class="w"> </span><span class="kn">import</span> <span class="n">preprocess_aux_for_interpolation</span>

                <span class="n">ds</span> <span class="o">=</span> <span class="n">preprocess_aux_for_interpolation</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span>
                <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;preprocess_complete&quot;</span><span class="p">,</span> <span class="n">receiver</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;canvod.auxiliary not available, skipping preprocessing&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@step</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">grid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FluentWorkflow</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Build a hemisphere grid and assign cell IDs to all datasets.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        kind : str, optional</span>
<span class="sd">            Grid type override.  Defaults to the value set at init.</span>
<span class="sd">        **params</span>
<span class="sd">            Passed to :meth:`GridFactory.create` (e.g.</span>
<span class="sd">            ``angular_resolution=5.0``).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.grids</span><span class="w"> </span><span class="kn">import</span> <span class="n">add_cell_ids_to_ds_fast</span>

        <span class="n">grid_type</span> <span class="o">=</span> <span class="n">kind</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grid_type</span>
        <span class="n">builder</span> <span class="o">=</span> <span class="n">GridFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">grid_type</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_grid</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">ds</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">add_cell_ids_to_ds_fast</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grid</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;grid_complete&quot;</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="n">grid_type</span><span class="p">,</span> <span class="n">ncells</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_grid</span><span class="o">.</span><span class="n">ncells</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@step</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">vod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canopy</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">reference</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FluentWorkflow</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Compute vegetation optical depth for a receiver pair.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        canopy : str</span>
<span class="sd">            Canopy receiver name (e.g. ``&quot;canopy_01&quot;``).</span>
<span class="sd">        reference : str</span>
<span class="sd">            Sky/reference receiver name (e.g. ``&quot;reference_01&quot;``).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">canopy_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">[</span><span class="n">canopy</span><span class="p">]</span>
        <span class="n">ref_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">[</span><span class="n">reference</span><span class="p">]</span>

        <span class="n">calculator</span> <span class="o">=</span> <span class="n">VODFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vod_calculator_name</span><span class="p">,</span>
            <span class="n">canopy_ds</span><span class="o">=</span><span class="n">canopy_ds</span><span class="p">,</span>
            <span class="n">sky_ds</span><span class="o">=</span><span class="n">ref_ds</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span> <span class="o">=</span> <span class="n">calculator</span><span class="o">.</span><span class="n">calculate_vod</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;vod_complete&quot;</span><span class="p">,</span> <span class="n">canopy</span><span class="o">=</span><span class="n">canopy</span><span class="p">,</span> <span class="n">reference</span><span class="o">=</span><span class="n">reference</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1"># ------------------------------------------------------------------</span>
    <span class="c1"># Terminals (trigger execution)</span>
    <span class="c1"># ------------------------------------------------------------------</span>

    <span class="nd">@terminal</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute the plan and return the final data.</span>

<span class="sd">        Returns the VOD dataset if a ``.vod()`` step was included,</span>
<span class="sd">        otherwise returns the dict of per-receiver datasets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">)</span>

    <span class="nd">@terminal</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FluentWorkflow</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute the plan and write results to Icechunk storage.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Store VOD result — requires a store name convention</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;to_store_vod&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">vod_store</span><span class="o">.</span><span class="n">write_group</span><span class="p">(</span><span class="s2">&quot;vod_result&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">ds</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;to_store_dataset&quot;</span><span class="p">,</span> <span class="n">receiver</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">rinex_store</span><span class="o">.</span><span class="n">write_group</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ds</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@terminal</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute the plan and visualise the result.&quot;&quot;&quot;</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.viz</span><span class="w"> </span><span class="kn">import</span> <span class="n">HemisphereVisualizer</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span>
        <span class="n">viz</span> <span class="o">=</span> <span class="n">HemisphereVisualizer</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">viz</span><span class="o">.</span><span class="n">plot_2d</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="c1"># ------------------------------------------------------------------</span>
    <span class="c1"># Plan inspection (does NOT execute)</span>
    <span class="c1"># ------------------------------------------------------------------</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a description of the recorded plan without executing it.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list[dict]</span>
<span class="sd">            One entry per step with keys ``&quot;step&quot;``, ``&quot;args&quot;``, and</span>
<span class="sd">            ``&quot;kwargs&quot;``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="n">fn</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="p">}</span>
            <span class="k">for</span> <span class="n">fn</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_plan</span>
        <span class="p">]</span>

    <span class="c1"># ------------------------------------------------------------------</span>
    <span class="c1"># Dunder</span>
    <span class="c1"># ------------------------------------------------------------------</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_plan</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;FluentWorkflow(site=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">name</span><span class="si">!r}</span><span class="s2">, pending_steps=</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2">)&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="canvodpy.FluentWorkflow.read" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#canvodpy.FluentWorkflow.read" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Load RINEX observations for <em>date</em>.</p>
<h4 id="canvodpy.FluentWorkflow.read--parameters">Parameters<a class="headerlink" href="#canvodpy.FluentWorkflow.read--parameters" title="Permanent link">&para;</a></h4>
<p>date : str
    Date in <code>YYYYDOY</code> format (e.g. <code>"2025001"</code>).
receivers : list[str], optional
    Receiver names to load.  If <code>None</code>, all active receivers
    for the site are loaded.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/fluent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@step</span>
<span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">receivers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FluentWorkflow</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load RINEX observations for *date*.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    date : str</span>
<span class="sd">        Date in ``YYYYDOY`` format (e.g. ``&quot;2025001&quot;``).</span>
<span class="sd">    receivers : list[str], optional</span>
<span class="sd">        Receiver names to load.  If ``None``, all active receivers</span>
<span class="sd">        for the site are loaded.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">receiver_list</span> <span class="o">=</span> <span class="n">receivers</span> <span class="ow">or</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">active_receivers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">receiver_list</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">get_rinex_path</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>
        <span class="n">reader_obj</span> <span class="o">=</span> <span class="n">ReaderFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_reader_name</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
        <span class="n">ds</span> <span class="o">=</span> <span class="n">reader_obj</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

        <span class="c1"># Filter variables</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_keep_vars</span><span class="p">:</span>
            <span class="n">drop</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">data_vars</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_keep_vars</span><span class="p">)]</span>
            <span class="k">if</span> <span class="n">drop</span><span class="p">:</span>
                <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">drop_vars</span><span class="p">(</span><span class="n">drop</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;read_complete&quot;</span><span class="p">,</span> <span class="n">receiver</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>  <span class="c1"># never reached (decorator returns self), but aids type checkers</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="canvodpy.FluentWorkflow.preprocess" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">preprocess</span><span class="p">(</span><span class="n">agency</span><span class="o">=</span><span class="s1">&#39;COD&#39;</span><span class="p">)</span></code>

<a href="#canvodpy.FluentWorkflow.preprocess" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Apply auxiliary preprocessing to loaded datasets.</p>
<h4 id="canvodpy.FluentWorkflow.preprocess--parameters">Parameters<a class="headerlink" href="#canvodpy.FluentWorkflow.preprocess--parameters" title="Permanent link">&para;</a></h4>
<p>agency : str
    Analysis centre for auxiliary products (default <code>"COD"</code>).</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/fluent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@step</span>
<span class="k">def</span><span class="w"> </span><span class="nf">preprocess</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agency</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;COD&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FluentWorkflow</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Apply auxiliary preprocessing to loaded datasets.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    agency : str</span>
<span class="sd">        Analysis centre for auxiliary products (default ``&quot;COD&quot;``).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">agency</span><span class="o">=</span><span class="n">agency</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">ds</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.auxiliary</span><span class="w"> </span><span class="kn">import</span> <span class="n">preprocess_aux_for_interpolation</span>

            <span class="n">ds</span> <span class="o">=</span> <span class="n">preprocess_aux_for_interpolation</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span>
            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;preprocess_complete&quot;</span><span class="p">,</span> <span class="n">receiver</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;canvod.auxiliary not available, skipping preprocessing&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="canvodpy.FluentWorkflow.grid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">grid</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span></code>

<a href="#canvodpy.FluentWorkflow.grid" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Build a hemisphere grid and assign cell IDs to all datasets.</p>
<h4 id="canvodpy.FluentWorkflow.grid--parameters">Parameters<a class="headerlink" href="#canvodpy.FluentWorkflow.grid--parameters" title="Permanent link">&para;</a></h4>
<p>kind : str, optional
    Grid type override.  Defaults to the value set at init.
**params
    Passed to :meth:<code>GridFactory.create</code> (e.g.
    <code>angular_resolution=5.0</code>).</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/fluent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@step</span>
<span class="k">def</span><span class="w"> </span><span class="nf">grid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FluentWorkflow</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Build a hemisphere grid and assign cell IDs to all datasets.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    kind : str, optional</span>
<span class="sd">        Grid type override.  Defaults to the value set at init.</span>
<span class="sd">    **params</span>
<span class="sd">        Passed to :meth:`GridFactory.create` (e.g.</span>
<span class="sd">        ``angular_resolution=5.0``).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.grids</span><span class="w"> </span><span class="kn">import</span> <span class="n">add_cell_ids_to_ds_fast</span>

    <span class="n">grid_type</span> <span class="o">=</span> <span class="n">kind</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grid_type</span>
    <span class="n">builder</span> <span class="o">=</span> <span class="n">GridFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">grid_type</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_grid</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">ds</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">add_cell_ids_to_ds_fast</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grid</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;grid_complete&quot;</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="n">grid_type</span><span class="p">,</span> <span class="n">ncells</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_grid</span><span class="o">.</span><span class="n">ncells</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="canvodpy.FluentWorkflow.vod" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">vod</span><span class="p">(</span><span class="n">canopy</span><span class="p">,</span> <span class="n">reference</span><span class="p">)</span></code>

<a href="#canvodpy.FluentWorkflow.vod" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Compute vegetation optical depth for a receiver pair.</p>
<h4 id="canvodpy.FluentWorkflow.vod--parameters">Parameters<a class="headerlink" href="#canvodpy.FluentWorkflow.vod--parameters" title="Permanent link">&para;</a></h4>
<p>canopy : str
    Canopy receiver name (e.g. <code>"canopy_01"</code>).
reference : str
    Sky/reference receiver name (e.g. <code>"reference_01"</code>).</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/fluent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@step</span>
<span class="k">def</span><span class="w"> </span><span class="nf">vod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canopy</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">reference</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FluentWorkflow</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute vegetation optical depth for a receiver pair.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    canopy : str</span>
<span class="sd">        Canopy receiver name (e.g. ``&quot;canopy_01&quot;``).</span>
<span class="sd">    reference : str</span>
<span class="sd">        Sky/reference receiver name (e.g. ``&quot;reference_01&quot;``).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">canopy_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">[</span><span class="n">canopy</span><span class="p">]</span>
    <span class="n">ref_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">[</span><span class="n">reference</span><span class="p">]</span>

    <span class="n">calculator</span> <span class="o">=</span> <span class="n">VODFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vod_calculator_name</span><span class="p">,</span>
        <span class="n">canopy_ds</span><span class="o">=</span><span class="n">canopy_ds</span><span class="p">,</span>
        <span class="n">sky_ds</span><span class="o">=</span><span class="n">ref_ds</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span> <span class="o">=</span> <span class="n">calculator</span><span class="o">.</span><span class="n">calculate_vod</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;vod_complete&quot;</span><span class="p">,</span> <span class="n">canopy</span><span class="o">=</span><span class="n">canopy</span><span class="p">,</span> <span class="n">reference</span><span class="o">=</span><span class="n">reference</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="canvodpy.FluentWorkflow.result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">result</span><span class="p">()</span></code>

<a href="#canvodpy.FluentWorkflow.result" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Execute the plan and return the final data.</p>
<p>Returns the VOD dataset if a <code>.vod()</code> step was included,
otherwise returns the dict of per-receiver datasets.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/fluent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@terminal</span>
<span class="k">def</span><span class="w"> </span><span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Execute the plan and return the final data.</span>

<span class="sd">    Returns the VOD dataset if a ``.vod()`` step was included,</span>
<span class="sd">    otherwise returns the dict of per-receiver datasets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="canvodpy.FluentWorkflow.to_store" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_store</span><span class="p">()</span></code>

<a href="#canvodpy.FluentWorkflow.to_store" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Execute the plan and write results to Icechunk storage.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/fluent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@terminal</span>
<span class="k">def</span><span class="w"> </span><span class="nf">to_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FluentWorkflow</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Execute the plan and write results to Icechunk storage.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Store VOD result — requires a store name convention</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;to_store_vod&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">vod_store</span><span class="o">.</span><span class="n">write_group</span><span class="p">(</span><span class="s2">&quot;vod_result&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">ds</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;to_store_dataset&quot;</span><span class="p">,</span> <span class="n">receiver</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">rinex_store</span><span class="o">.</span><span class="n">write_group</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ds</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="canvodpy.FluentWorkflow.plot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot</span><span class="p">()</span></code>

<a href="#canvodpy.FluentWorkflow.plot" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Execute the plan and visualise the result.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/fluent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@terminal</span>
<span class="k">def</span><span class="w"> </span><span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Execute the plan and visualise the result.&quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.viz</span><span class="w"> </span><span class="kn">import</span> <span class="n">HemisphereVisualizer</span>

    <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vod_result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span>
    <span class="n">viz</span> <span class="o">=</span> <span class="n">HemisphereVisualizer</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">viz</span><span class="o">.</span><span class="n">plot_2d</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="canvodpy.FluentWorkflow.explain" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">explain</span><span class="p">()</span></code>

<a href="#canvodpy.FluentWorkflow.explain" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Return a description of the recorded plan without executing it.</p>
<h4 id="canvodpy.FluentWorkflow.explain--returns">Returns<a class="headerlink" href="#canvodpy.FluentWorkflow.explain--returns" title="Permanent link">&para;</a></h4>
<p>list[dict]
    One entry per step with keys <code>"step"</code>, <code>"args"</code>, and
    <code>"kwargs"</code>.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/fluent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a description of the recorded plan without executing it.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list[dict]</span>
<span class="sd">        One entry per step with keys ``&quot;step&quot;``, ``&quot;args&quot;``, and</span>
<span class="sd">        ``&quot;kwargs&quot;``.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="n">fn</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="p">}</span>
        <span class="k">for</span> <span class="n">fn</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_plan</span>
    <span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="level-3-vodworkflow-eager-execution">Level 3 — VODWorkflow (Eager Execution)<a class="headerlink" href="#level-3-vodworkflow-eager-execution" title="Permanent link">&para;</a></h2>
<p>Stateful orchestrator with factory integration and structured logging.</p>


<div class="doc doc-object doc-class">



<a id="canvodpy.Site"></a>
    <div class="doc doc-contents first">



        <p>User-friendly wrapper around GnssResearchSite.</p>
<p>Provides a clean, modern API for site management while using
the proven GnssResearchSite implementation internally.</p>
<h3 id="canvodpy.Site--parameters">Parameters<a class="headerlink" href="#canvodpy.Site--parameters" title="Permanent link">&para;</a></h3>
<p>name : str
    Site name from configuration (e.g., "Rosalia")</p>
<h3 id="canvodpy.Site--attributes">Attributes<a class="headerlink" href="#canvodpy.Site--attributes" title="Permanent link">&para;</a></h3>
<p>name : str
    Site name
receivers : dict
    All configured receivers
active_receivers : dict
    Only active receivers
vod_analyses : dict
    Configured VOD analysis pairs
rinex_store
    Access to RINEX data store
vod_store
    Access to VOD results store</p>
<h3 id="canvodpy.Site--examples">Examples<a class="headerlink" href="#canvodpy.Site--examples" title="Permanent link">&para;</a></h3>
<blockquote>
<blockquote>
<blockquote>
<p>site = Site("Rosalia")
print(site.receivers)
{'canopy_01': {...}, 'reference_01': {...}}</p>
<h2 id="canvodpy.Site--create-pipeline">Create pipeline<a class="headerlink" href="#canvodpy.Site--create-pipeline" title="Permanent link">&para;</a></h2>
<p>pipeline = site.pipeline()</p>
<h2 id="canvodpy.Site--access-stores">Access stores<a class="headerlink" href="#canvodpy.Site--access-stores" title="Permanent link">&para;</a></h2>
<p>site.rinex_store.list_groups()</p>
</blockquote>
</blockquote>
</blockquote>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>canvodpy/src/canvodpy/api.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Site</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;User-friendly wrapper around GnssResearchSite.</span>

<span class="sd">    Provides a clean, modern API for site management while using</span>
<span class="sd">    the proven GnssResearchSite implementation internally.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        Site name from configuration (e.g., &quot;Rosalia&quot;)</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        Site name</span>
<span class="sd">    receivers : dict</span>
<span class="sd">        All configured receivers</span>
<span class="sd">    active_receivers : dict</span>
<span class="sd">        Only active receivers</span>
<span class="sd">    vod_analyses : dict</span>
<span class="sd">        Configured VOD analysis pairs</span>
<span class="sd">    rinex_store</span>
<span class="sd">        Access to RINEX data store</span>
<span class="sd">    vod_store</span>
<span class="sd">        Access to VOD results store</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; site = Site(&quot;Rosalia&quot;)</span>
<span class="sd">    &gt;&gt;&gt; print(site.receivers)</span>
<span class="sd">    {&#39;canopy_01&#39;: {...}, &#39;reference_01&#39;: {...}}</span>

<span class="sd">    &gt;&gt;&gt; # Create pipeline</span>
<span class="sd">    &gt;&gt;&gt; pipeline = site.pipeline()</span>

<span class="sd">    &gt;&gt;&gt; # Access stores</span>
<span class="sd">    &gt;&gt;&gt; site.rinex_store.list_groups()</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Lazy import to avoid circular dependency</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.store</span><span class="w"> </span><span class="kn">import</span> <span class="n">GnssResearchSite</span>

        <span class="c1"># Use proven implementation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_site</span> <span class="o">=</span> <span class="n">GnssResearchSite</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">receivers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all configured receivers.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">receivers</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">active_receivers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get only active receivers.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">active_receivers</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">vod_analyses</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get configured VOD analysis pairs.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">active_vod_analyses</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">rinex_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MyIcechunkStore</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Access RINEX data store.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">rinex_store</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">vod_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MyIcechunkStore</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Access VOD results store.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">vod_store</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">keep_vars</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">aux_agency</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;COD&quot;</span><span class="p">,</span>
        <span class="n">n_workers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
        <span class="n">dry_run</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Pipeline</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a processing pipeline for this site.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        keep_vars : list[str], optional</span>
<span class="sd">            RINEX variables to keep (default: KEEP_RNX_VARS from globals)</span>
<span class="sd">        aux_agency : str, default &quot;COD&quot;</span>
<span class="sd">            Analysis center for auxiliary data (COD, ESA, GFZ, JPL)</span>
<span class="sd">        n_workers : int, default 12</span>
<span class="sd">            Number of parallel workers</span>
<span class="sd">        dry_run : bool, default False</span>
<span class="sd">            If True, simulate processing without execution</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Pipeline</span>
<span class="sd">            Configured pipeline for this site</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; site = Site(&quot;Rosalia&quot;)</span>
<span class="sd">        &gt;&gt;&gt; pipeline = site.pipeline(aux_agency=&quot;ESA&quot;, n_workers=8)</span>
<span class="sd">        &gt;&gt;&gt; data = pipeline.process_date(&quot;2025001&quot;)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Pipeline</span><span class="p">(</span>
            <span class="n">site</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">keep_vars</span><span class="o">=</span><span class="n">keep_vars</span><span class="p">,</span>
            <span class="n">aux_agency</span><span class="o">=</span><span class="n">aux_agency</span><span class="p">,</span>
            <span class="n">n_workers</span><span class="o">=</span><span class="n">n_workers</span><span class="p">,</span>
            <span class="n">dry_run</span><span class="o">=</span><span class="n">dry_run</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">n_receivers</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">active_receivers</span><span class="p">)</span>
        <span class="n">n_analyses</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vod_analyses</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Site(&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, receivers=</span><span class="si">{</span><span class="n">n_receivers</span><span class="si">}</span><span class="s2">, analyses=</span><span class="si">{</span><span class="n">n_analyses</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;GNSS Site: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="canvodpy.Site.receivers" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">receivers</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#canvodpy.Site.receivers" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Get all configured receivers.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="canvodpy.Site.active_receivers" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">active_receivers</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#canvodpy.Site.active_receivers" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Get only active receivers.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="canvodpy.Site.vod_analyses" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">vod_analyses</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#canvodpy.Site.vod_analyses" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Get configured VOD analysis pairs.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="canvodpy.Site.rinex_store" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">rinex_store</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#canvodpy.Site.rinex_store" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Access RINEX data store.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="canvodpy.Site.vod_store" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">vod_store</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#canvodpy.Site.vod_store" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Access VOD results store.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h2 id="canvodpy.Site.pipeline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline</span><span class="p">(</span><span class="n">keep_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">aux_agency</span><span class="o">=</span><span class="s1">&#39;COD&#39;</span><span class="p">,</span> <span class="n">n_workers</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">dry_run</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#canvodpy.Site.pipeline" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Create a processing pipeline for this site.</p>
<h4 id="canvodpy.Site.pipeline--parameters">Parameters<a class="headerlink" href="#canvodpy.Site.pipeline--parameters" title="Permanent link">&para;</a></h4>
<p>keep_vars : list[str], optional
    RINEX variables to keep (default: KEEP_RNX_VARS from globals)
aux_agency : str, default "COD"
    Analysis center for auxiliary data (COD, ESA, GFZ, JPL)
n_workers : int, default 12
    Number of parallel workers
dry_run : bool, default False
    If True, simulate processing without execution</p>
<h4 id="canvodpy.Site.pipeline--returns">Returns<a class="headerlink" href="#canvodpy.Site.pipeline--returns" title="Permanent link">&para;</a></h4>
<p>Pipeline
    Configured pipeline for this site</p>
<h4 id="canvodpy.Site.pipeline--examples">Examples<a class="headerlink" href="#canvodpy.Site.pipeline--examples" title="Permanent link">&para;</a></h4>
<blockquote>
<blockquote>
<blockquote>
<p>site = Site("Rosalia")
pipeline = site.pipeline(aux_agency="ESA", n_workers=8)
data = pipeline.process_date("2025001")</p>
</blockquote>
</blockquote>
</blockquote>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">keep_vars</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">aux_agency</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;COD&quot;</span><span class="p">,</span>
    <span class="n">n_workers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
    <span class="n">dry_run</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Pipeline</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a processing pipeline for this site.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    keep_vars : list[str], optional</span>
<span class="sd">        RINEX variables to keep (default: KEEP_RNX_VARS from globals)</span>
<span class="sd">    aux_agency : str, default &quot;COD&quot;</span>
<span class="sd">        Analysis center for auxiliary data (COD, ESA, GFZ, JPL)</span>
<span class="sd">    n_workers : int, default 12</span>
<span class="sd">        Number of parallel workers</span>
<span class="sd">    dry_run : bool, default False</span>
<span class="sd">        If True, simulate processing without execution</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Pipeline</span>
<span class="sd">        Configured pipeline for this site</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; site = Site(&quot;Rosalia&quot;)</span>
<span class="sd">    &gt;&gt;&gt; pipeline = site.pipeline(aux_agency=&quot;ESA&quot;, n_workers=8)</span>
<span class="sd">    &gt;&gt;&gt; data = pipeline.process_date(&quot;2025001&quot;)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Pipeline</span><span class="p">(</span>
        <span class="n">site</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
        <span class="n">keep_vars</span><span class="o">=</span><span class="n">keep_vars</span><span class="p">,</span>
        <span class="n">aux_agency</span><span class="o">=</span><span class="n">aux_agency</span><span class="p">,</span>
        <span class="n">n_workers</span><span class="o">=</span><span class="n">n_workers</span><span class="p">,</span>
        <span class="n">dry_run</span><span class="o">=</span><span class="n">dry_run</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="canvodpy.Pipeline"></a>
    <div class="doc doc-contents first">



        <p>User-friendly wrapper around PipelineOrchestrator.</p>
<p>Provides a clean API for processing workflows while using
proven orchestrator logic internally.</p>
<h3 id="canvodpy.Pipeline--parameters">Parameters<a class="headerlink" href="#canvodpy.Pipeline--parameters" title="Permanent link">&para;</a></h3>
<p>site : Site or str
    Site object or site name
keep_vars : list[str], optional
    RINEX variables to keep
aux_agency : str, default "COD"
    Analysis center for auxiliary data
n_workers : int, default 12
    Number of parallel workers
dry_run : bool, default False
    If True, simulate without execution</p>
<h3 id="canvodpy.Pipeline--examples">Examples<a class="headerlink" href="#canvodpy.Pipeline--examples" title="Permanent link">&para;</a></h3>
<blockquote>
<blockquote>
<blockquote>
<h2 id="canvodpy.Pipeline--from-site-object">From site object<a class="headerlink" href="#canvodpy.Pipeline--from-site-object" title="Permanent link">&para;</a></h2>
<p>site = Site("Rosalia")
pipeline = Pipeline(site)</p>
<h2 id="canvodpy.Pipeline--or-directly-from-name">Or directly from name<a class="headerlink" href="#canvodpy.Pipeline--or-directly-from-name" title="Permanent link">&para;</a></h2>
<p>pipeline = Pipeline("Rosalia")</p>
<h2 id="canvodpy.Pipeline--process-single-date">Process single date<a class="headerlink" href="#canvodpy.Pipeline--process-single-date" title="Permanent link">&para;</a></h2>
<p>data = pipeline.process_date("2025001")</p>
<h2 id="canvodpy.Pipeline--process-range">Process range<a class="headerlink" href="#canvodpy.Pipeline--process-range" title="Permanent link">&para;</a></h2>
<p>for date, datasets in pipeline.process_range("2025001", "2025007"):
...     print(f"Processed {date}")</p>
</blockquote>
</blockquote>
</blockquote>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>canvodpy/src/canvodpy/api.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Pipeline</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;User-friendly wrapper around PipelineOrchestrator.</span>

<span class="sd">    Provides a clean API for processing workflows while using</span>
<span class="sd">    proven orchestrator logic internally.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    site : Site or str</span>
<span class="sd">        Site object or site name</span>
<span class="sd">    keep_vars : list[str], optional</span>
<span class="sd">        RINEX variables to keep</span>
<span class="sd">    aux_agency : str, default &quot;COD&quot;</span>
<span class="sd">        Analysis center for auxiliary data</span>
<span class="sd">    n_workers : int, default 12</span>
<span class="sd">        Number of parallel workers</span>
<span class="sd">    dry_run : bool, default False</span>
<span class="sd">        If True, simulate without execution</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; # From site object</span>
<span class="sd">    &gt;&gt;&gt; site = Site(&quot;Rosalia&quot;)</span>
<span class="sd">    &gt;&gt;&gt; pipeline = Pipeline(site)</span>

<span class="sd">    &gt;&gt;&gt; # Or directly from name</span>
<span class="sd">    &gt;&gt;&gt; pipeline = Pipeline(&quot;Rosalia&quot;)</span>

<span class="sd">    &gt;&gt;&gt; # Process single date</span>
<span class="sd">    &gt;&gt;&gt; data = pipeline.process_date(&quot;2025001&quot;)</span>

<span class="sd">    &gt;&gt;&gt; # Process range</span>
<span class="sd">    &gt;&gt;&gt; for date, datasets in pipeline.process_range(&quot;2025001&quot;, &quot;2025007&quot;):</span>
<span class="sd">    ...     print(f&quot;Processed {date}&quot;)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">site</span><span class="p">:</span> <span class="n">Site</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">keep_vars</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">aux_agency</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;COD&quot;</span><span class="p">,</span>
        <span class="n">n_workers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
        <span class="n">dry_run</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Handle both Site object and string</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">site</span> <span class="o">=</span> <span class="n">Site</span><span class="p">(</span><span class="n">site</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">site</span> <span class="o">=</span> <span class="n">site</span>
        <span class="k">if</span> <span class="n">keep_vars</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.utils.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_config</span>

            <span class="n">keep_vars</span> <span class="o">=</span> <span class="n">load_config</span><span class="p">()</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">keep_rnx_vars</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span> <span class="o">=</span> <span class="n">keep_vars</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aux_agency</span> <span class="o">=</span> <span class="n">aux_agency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_workers</span> <span class="o">=</span> <span class="n">n_workers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dry_run</span> <span class="o">=</span> <span class="n">dry_run</span>

        <span class="c1"># Setup logging</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">canvodpy.logging</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_logger</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span>
            <span class="n">site</span><span class="o">=</span><span class="n">site</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">component</span><span class="o">=</span><span class="s2">&quot;pipeline&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Lazy import to avoid circular dependency</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">canvodpy.orchestrator</span><span class="w"> </span><span class="kn">import</span> <span class="n">PipelineOrchestrator</span>

        <span class="c1"># Use proven orchestrator implementation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span> <span class="o">=</span> <span class="n">PipelineOrchestrator</span><span class="p">(</span>
            <span class="n">site</span><span class="o">=</span><span class="n">site</span><span class="o">.</span><span class="n">_site</span><span class="p">,</span>
            <span class="n">n_max_workers</span><span class="o">=</span><span class="n">n_workers</span><span class="p">,</span>
            <span class="n">dry_run</span><span class="o">=</span><span class="n">dry_run</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;pipeline_initialized&quot;</span><span class="p">,</span>
            <span class="n">aux_agency</span><span class="o">=</span><span class="n">aux_agency</span><span class="p">,</span>
            <span class="n">n_workers</span><span class="o">=</span><span class="n">n_workers</span><span class="p">,</span>
            <span class="n">keep_vars</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span><span class="p">),</span>
            <span class="n">dry_run</span><span class="o">=</span><span class="n">dry_run</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">process_date</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Process RINEX data for one date.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        date : str</span>
<span class="sd">            Date in YYYYDOY format (e.g., &quot;2025001&quot; for Jan 1, 2025)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict[str, xr.Dataset]</span>
<span class="sd">            Processed datasets for each receiver</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; pipeline = Pipeline(&quot;Rosalia&quot;)</span>
<span class="sd">        &gt;&gt;&gt; data = pipeline.process_date(&quot;2025001&quot;)</span>
<span class="sd">        &gt;&gt;&gt; print(data.keys())</span>
<span class="sd">        dict_keys([&#39;canopy_01&#39;, &#39;canopy_02&#39;, &#39;reference_01&#39;])</span>

<span class="sd">        &gt;&gt;&gt; # Access individual receiver</span>
<span class="sd">        &gt;&gt;&gt; canopy_data = data[&#39;canopy_01&#39;]</span>
<span class="sd">        &gt;&gt;&gt; print(canopy_data.dims)</span>
<span class="sd">        Dimensions: (epoch: 2880, sv: 32, ...)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;date_processing_started&quot;</span><span class="p">)</span>

        <span class="c1"># Use proven orchestrator logic</span>
        <span class="k">for</span> <span class="n">_date_key</span><span class="p">,</span> <span class="n">datasets</span><span class="p">,</span> <span class="n">_timing</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span><span class="o">.</span><span class="n">process_by_date</span><span class="p">(</span>
            <span class="n">keep_vars</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span><span class="p">,</span>
            <span class="n">start_from</span><span class="o">=</span><span class="n">date</span><span class="p">,</span>
            <span class="n">end_at</span><span class="o">=</span><span class="n">date</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;date_processing_complete&quot;</span><span class="p">,</span>
                <span class="n">receivers</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">datasets</span><span class="p">),</span>
                <span class="n">receiver_names</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">datasets</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">datasets</span>  <span class="c1"># Return first (only) date</span>

        <span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;no_data_processed&quot;</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{}</span>  <span class="c1"># No data processed</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">process_range</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">start</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">end</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">]],</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Process RINEX data for a date range.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        start : str</span>
<span class="sd">            Start date (YYYYDOY)</span>
<span class="sd">        end : str</span>
<span class="sd">            End date (YYYYDOY)</span>

<span class="sd">        Yields</span>
<span class="sd">        ------</span>
<span class="sd">        tuple[str, dict[str, xr.Dataset]]</span>
<span class="sd">            (date_key, datasets) for each processed date</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; pipeline = Pipeline(&quot;Rosalia&quot;)</span>
<span class="sd">        &gt;&gt;&gt; for date, datasets in pipeline.process_range(&quot;2025001&quot;, &quot;2025007&quot;):</span>
<span class="sd">        ...     print(f&quot;Processed {date}: {len(datasets)} receivers&quot;)</span>
<span class="sd">        Processed 2025001: 3 receivers</span>
<span class="sd">        Processed 2025002: 3 receivers</span>
<span class="sd">        ...</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Use proven orchestrator logic</span>
        <span class="k">for</span> <span class="n">date_key</span><span class="p">,</span> <span class="n">datasets</span><span class="p">,</span> <span class="n">_timing</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span><span class="o">.</span><span class="n">process_by_date</span><span class="p">(</span>
            <span class="n">keep_vars</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span><span class="p">,</span>
            <span class="n">start_from</span><span class="o">=</span><span class="n">start</span><span class="p">,</span>
            <span class="n">end_at</span><span class="o">=</span><span class="n">end</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">date_key</span><span class="p">,</span> <span class="n">datasets</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_vod</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">canopy</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">reference</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate VOD for a receiver pair.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        canopy : str</span>
<span class="sd">            Canopy receiver name (e.g., &quot;canopy_01&quot;)</span>
<span class="sd">        reference : str</span>
<span class="sd">            Reference receiver name (e.g., &quot;reference_01&quot;)</span>
<span class="sd">        date : str</span>
<span class="sd">            Date in YYYYDOY format</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        xr.Dataset</span>
<span class="sd">            VOD analysis results</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; pipeline = Pipeline(&quot;Rosalia&quot;)</span>
<span class="sd">        &gt;&gt;&gt; vod = pipeline.calculate_vod(&quot;canopy_01&quot;, &quot;reference_01&quot;, &quot;2025001&quot;)</span>
<span class="sd">        &gt;&gt;&gt; print(vod.vod.mean().values)</span>
<span class="sd">        0.42</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">canopy</span><span class="o">=</span><span class="n">canopy</span><span class="p">,</span> <span class="n">reference</span><span class="o">=</span><span class="n">reference</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;vod_calculation_started&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Load processed data from stores</span>
            <span class="n">canopy_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">rinex_store</span><span class="o">.</span><span class="n">read_group</span><span class="p">(</span><span class="n">canopy</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
            <span class="n">ref_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">rinex_store</span><span class="o">.</span><span class="n">read_group</span><span class="p">(</span><span class="n">reference</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>

            <span class="c1"># Lazy import to avoid circular dependency</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.vod</span><span class="w"> </span><span class="kn">import</span> <span class="n">VODCalculator</span>

            <span class="c1"># Use proven VOD calculator</span>
            <span class="n">calculator</span> <span class="o">=</span> <span class="n">VODCalculator</span><span class="p">()</span>
            <span class="n">vod_results</span> <span class="o">=</span> <span class="n">calculator</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">canopy_data</span><span class="p">,</span> <span class="n">ref_data</span><span class="p">)</span>

            <span class="c1"># Store results</span>
            <span class="n">analysis_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">canopy</span><span class="si">}</span><span class="s2">_vs_</span><span class="si">{</span><span class="n">reference</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">vod_store</span><span class="o">.</span><span class="n">write_group</span><span class="p">(</span><span class="n">analysis_name</span><span class="p">,</span> <span class="n">vod_results</span><span class="p">)</span>

            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;vod_calculation_complete&quot;</span><span class="p">,</span>
                <span class="n">analysis</span><span class="o">=</span><span class="n">analysis_name</span><span class="p">,</span>
                <span class="n">vod_mean</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">vod_results</span><span class="o">.</span><span class="n">vod</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
                <span class="k">if</span> <span class="s2">&quot;vod&quot;</span> <span class="ow">in</span> <span class="n">vod_results</span>
                <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">vod_results</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;vod_calculation_failed&quot;</span><span class="p">,</span>
                <span class="n">error</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
                <span class="n">exception</span><span class="o">=</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">raise</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">preview</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Preview processing plan without execution.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            Summary of dates, receivers, and files</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; pipeline = Pipeline(&quot;Rosalia&quot;)</span>
<span class="sd">        &gt;&gt;&gt; plan = pipeline.preview()</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;Total files: {plan[&#39;total_files&#39;]}&quot;)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span><span class="o">.</span><span class="n">preview_processing_plan</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Pipeline(site=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;keep_vars=</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span><span class="p">)</span><span class="si">}</span><span class="s2"> vars, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;workers=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">n_workers</span><span class="si">}</span><span class="s2">)&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="canvodpy.Pipeline.process_date" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_date</span><span class="p">(</span><span class="n">date</span><span class="p">)</span></code>

<a href="#canvodpy.Pipeline.process_date" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Process RINEX data for one date.</p>
<h4 id="canvodpy.Pipeline.process_date--parameters">Parameters<a class="headerlink" href="#canvodpy.Pipeline.process_date--parameters" title="Permanent link">&para;</a></h4>
<p>date : str
    Date in YYYYDOY format (e.g., "2025001" for Jan 1, 2025)</p>
<h4 id="canvodpy.Pipeline.process_date--returns">Returns<a class="headerlink" href="#canvodpy.Pipeline.process_date--returns" title="Permanent link">&para;</a></h4>
<p>dict[str, xr.Dataset]
    Processed datasets for each receiver</p>
<h4 id="canvodpy.Pipeline.process_date--examples">Examples<a class="headerlink" href="#canvodpy.Pipeline.process_date--examples" title="Permanent link">&para;</a></h4>
<blockquote>
<blockquote>
<blockquote>
<p>pipeline = Pipeline("Rosalia")
data = pipeline.process_date("2025001")
print(data.keys())
dict_keys(['canopy_01', 'canopy_02', 'reference_01'])</p>
<h3 id="canvodpy.Pipeline.process_date--access-individual-receiver">Access individual receiver<a class="headerlink" href="#canvodpy.Pipeline.process_date--access-individual-receiver" title="Permanent link">&para;</a></h3>
<p>canopy_data = data['canopy_01']
print(canopy_data.dims)
Dimensions: (epoch: 2880, sv: 32, ...)</p>
</blockquote>
</blockquote>
</blockquote>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">process_date</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Process RINEX data for one date.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    date : str</span>
<span class="sd">        Date in YYYYDOY format (e.g., &quot;2025001&quot; for Jan 1, 2025)</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dict[str, xr.Dataset]</span>
<span class="sd">        Processed datasets for each receiver</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; pipeline = Pipeline(&quot;Rosalia&quot;)</span>
<span class="sd">    &gt;&gt;&gt; data = pipeline.process_date(&quot;2025001&quot;)</span>
<span class="sd">    &gt;&gt;&gt; print(data.keys())</span>
<span class="sd">    dict_keys([&#39;canopy_01&#39;, &#39;canopy_02&#39;, &#39;reference_01&#39;])</span>

<span class="sd">    &gt;&gt;&gt; # Access individual receiver</span>
<span class="sd">    &gt;&gt;&gt; canopy_data = data[&#39;canopy_01&#39;]</span>
<span class="sd">    &gt;&gt;&gt; print(canopy_data.dims)</span>
<span class="sd">    Dimensions: (epoch: 2880, sv: 32, ...)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;date_processing_started&quot;</span><span class="p">)</span>

    <span class="c1"># Use proven orchestrator logic</span>
    <span class="k">for</span> <span class="n">_date_key</span><span class="p">,</span> <span class="n">datasets</span><span class="p">,</span> <span class="n">_timing</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span><span class="o">.</span><span class="n">process_by_date</span><span class="p">(</span>
        <span class="n">keep_vars</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span><span class="p">,</span>
        <span class="n">start_from</span><span class="o">=</span><span class="n">date</span><span class="p">,</span>
        <span class="n">end_at</span><span class="o">=</span><span class="n">date</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;date_processing_complete&quot;</span><span class="p">,</span>
            <span class="n">receivers</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">datasets</span><span class="p">),</span>
            <span class="n">receiver_names</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">datasets</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">datasets</span>  <span class="c1"># Return first (only) date</span>

    <span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;no_data_processed&quot;</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{}</span>  <span class="c1"># No data processed</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="canvodpy.Pipeline.process_range" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span></code>

<a href="#canvodpy.Pipeline.process_range" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Process RINEX data for a date range.</p>
<h4 id="canvodpy.Pipeline.process_range--parameters">Parameters<a class="headerlink" href="#canvodpy.Pipeline.process_range--parameters" title="Permanent link">&para;</a></h4>
<p>start : str
    Start date (YYYYDOY)
end : str
    End date (YYYYDOY)</p>
<h4 id="canvodpy.Pipeline.process_range--yields">Yields<a class="headerlink" href="#canvodpy.Pipeline.process_range--yields" title="Permanent link">&para;</a></h4>
<p>tuple[str, dict[str, xr.Dataset]]
    (date_key, datasets) for each processed date</p>
<h4 id="canvodpy.Pipeline.process_range--examples">Examples<a class="headerlink" href="#canvodpy.Pipeline.process_range--examples" title="Permanent link">&para;</a></h4>
<blockquote>
<blockquote>
<blockquote>
<p>pipeline = Pipeline("Rosalia")
for date, datasets in pipeline.process_range("2025001", "2025007"):
...     print(f"Processed {date}: {len(datasets)} receivers")
Processed 2025001: 3 receivers
Processed 2025002: 3 receivers
...</p>
</blockquote>
</blockquote>
</blockquote>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">process_range</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">start</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">end</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">]],</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Process RINEX data for a date range.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    start : str</span>
<span class="sd">        Start date (YYYYDOY)</span>
<span class="sd">    end : str</span>
<span class="sd">        End date (YYYYDOY)</span>

<span class="sd">    Yields</span>
<span class="sd">    ------</span>
<span class="sd">    tuple[str, dict[str, xr.Dataset]]</span>
<span class="sd">        (date_key, datasets) for each processed date</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; pipeline = Pipeline(&quot;Rosalia&quot;)</span>
<span class="sd">    &gt;&gt;&gt; for date, datasets in pipeline.process_range(&quot;2025001&quot;, &quot;2025007&quot;):</span>
<span class="sd">    ...     print(f&quot;Processed {date}: {len(datasets)} receivers&quot;)</span>
<span class="sd">    Processed 2025001: 3 receivers</span>
<span class="sd">    Processed 2025002: 3 receivers</span>
<span class="sd">    ...</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Use proven orchestrator logic</span>
    <span class="k">for</span> <span class="n">date_key</span><span class="p">,</span> <span class="n">datasets</span><span class="p">,</span> <span class="n">_timing</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span><span class="o">.</span><span class="n">process_by_date</span><span class="p">(</span>
        <span class="n">keep_vars</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span><span class="p">,</span>
        <span class="n">start_from</span><span class="o">=</span><span class="n">start</span><span class="p">,</span>
        <span class="n">end_at</span><span class="o">=</span><span class="n">end</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">yield</span> <span class="n">date_key</span><span class="p">,</span> <span class="n">datasets</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="canvodpy.Pipeline.calculate_vod" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate_vod</span><span class="p">(</span><span class="n">canopy</span><span class="p">,</span> <span class="n">reference</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span></code>

<a href="#canvodpy.Pipeline.calculate_vod" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Calculate VOD for a receiver pair.</p>
<h4 id="canvodpy.Pipeline.calculate_vod--parameters">Parameters<a class="headerlink" href="#canvodpy.Pipeline.calculate_vod--parameters" title="Permanent link">&para;</a></h4>
<p>canopy : str
    Canopy receiver name (e.g., "canopy_01")
reference : str
    Reference receiver name (e.g., "reference_01")
date : str
    Date in YYYYDOY format</p>
<h4 id="canvodpy.Pipeline.calculate_vod--returns">Returns<a class="headerlink" href="#canvodpy.Pipeline.calculate_vod--returns" title="Permanent link">&para;</a></h4>
<p>xr.Dataset
    VOD analysis results</p>
<h4 id="canvodpy.Pipeline.calculate_vod--examples">Examples<a class="headerlink" href="#canvodpy.Pipeline.calculate_vod--examples" title="Permanent link">&para;</a></h4>
<blockquote>
<blockquote>
<blockquote>
<p>pipeline = Pipeline("Rosalia")
vod = pipeline.calculate_vod("canopy_01", "reference_01", "2025001")
print(vod.vod.mean().values)
0.42</p>
</blockquote>
</blockquote>
</blockquote>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calculate_vod</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">canopy</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">reference</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate VOD for a receiver pair.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    canopy : str</span>
<span class="sd">        Canopy receiver name (e.g., &quot;canopy_01&quot;)</span>
<span class="sd">    reference : str</span>
<span class="sd">        Reference receiver name (e.g., &quot;reference_01&quot;)</span>
<span class="sd">    date : str</span>
<span class="sd">        Date in YYYYDOY format</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    xr.Dataset</span>
<span class="sd">        VOD analysis results</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; pipeline = Pipeline(&quot;Rosalia&quot;)</span>
<span class="sd">    &gt;&gt;&gt; vod = pipeline.calculate_vod(&quot;canopy_01&quot;, &quot;reference_01&quot;, &quot;2025001&quot;)</span>
<span class="sd">    &gt;&gt;&gt; print(vod.vod.mean().values)</span>
<span class="sd">    0.42</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">canopy</span><span class="o">=</span><span class="n">canopy</span><span class="p">,</span> <span class="n">reference</span><span class="o">=</span><span class="n">reference</span><span class="p">)</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;vod_calculation_started&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Load processed data from stores</span>
        <span class="n">canopy_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">rinex_store</span><span class="o">.</span><span class="n">read_group</span><span class="p">(</span><span class="n">canopy</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
        <span class="n">ref_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">rinex_store</span><span class="o">.</span><span class="n">read_group</span><span class="p">(</span><span class="n">reference</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>

        <span class="c1"># Lazy import to avoid circular dependency</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.vod</span><span class="w"> </span><span class="kn">import</span> <span class="n">VODCalculator</span>

        <span class="c1"># Use proven VOD calculator</span>
        <span class="n">calculator</span> <span class="o">=</span> <span class="n">VODCalculator</span><span class="p">()</span>
        <span class="n">vod_results</span> <span class="o">=</span> <span class="n">calculator</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">canopy_data</span><span class="p">,</span> <span class="n">ref_data</span><span class="p">)</span>

        <span class="c1"># Store results</span>
        <span class="n">analysis_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">canopy</span><span class="si">}</span><span class="s2">_vs_</span><span class="si">{</span><span class="n">reference</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">vod_store</span><span class="o">.</span><span class="n">write_group</span><span class="p">(</span><span class="n">analysis_name</span><span class="p">,</span> <span class="n">vod_results</span><span class="p">)</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;vod_calculation_complete&quot;</span><span class="p">,</span>
            <span class="n">analysis</span><span class="o">=</span><span class="n">analysis_name</span><span class="p">,</span>
            <span class="n">vod_mean</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">vod_results</span><span class="o">.</span><span class="n">vod</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;vod&quot;</span> <span class="ow">in</span> <span class="n">vod_results</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">vod_results</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;vod_calculation_failed&quot;</span><span class="p">,</span>
            <span class="n">error</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
            <span class="n">exception</span><span class="o">=</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">raise</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="canvodpy.Pipeline.preview" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">preview</span><span class="p">()</span></code>

<a href="#canvodpy.Pipeline.preview" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Preview processing plan without execution.</p>
<h4 id="canvodpy.Pipeline.preview--returns">Returns<a class="headerlink" href="#canvodpy.Pipeline.preview--returns" title="Permanent link">&para;</a></h4>
<p>dict
    Summary of dates, receivers, and files</p>
<h4 id="canvodpy.Pipeline.preview--examples">Examples<a class="headerlink" href="#canvodpy.Pipeline.preview--examples" title="Permanent link">&para;</a></h4>
<blockquote>
<blockquote>
<blockquote>
<p>pipeline = Pipeline("Rosalia")
plan = pipeline.preview()
print(f"Total files: {plan['total_files']}")</p>
</blockquote>
</blockquote>
</blockquote>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">preview</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Preview processing plan without execution.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dict</span>
<span class="sd">        Summary of dates, receivers, and files</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; pipeline = Pipeline(&quot;Rosalia&quot;)</span>
<span class="sd">    &gt;&gt;&gt; plan = pipeline.preview()</span>
<span class="sd">    &gt;&gt;&gt; print(f&quot;Total files: {plan[&#39;total_files&#39;]}&quot;)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span><span class="o">.</span><span class="n">preview_processing_plan</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="canvodpy.VODWorkflow"></a>
    <div class="doc doc-contents first">



        <p>Orchestrate complete VOD analysis workflow.</p>
<p>Uses component factories for extensibility and structured logging
for LLM-assisted debugging. Replaces legacy Site + Pipeline pattern.</p>
<h3 id="canvodpy.VODWorkflow--parameters">Parameters<a class="headerlink" href="#canvodpy.VODWorkflow--parameters" title="Permanent link">&para;</a></h3>
<p>site : str or Site
    Site name or Site object
reader : str, default="rinex3"
    Registered reader name
grid : str, default="equal_area"
    Registered grid name
vod_calculator : str, default="tau_omega"
    Registered VOD calculator name
grid_params : dict, optional
    Parameters for grid creation (angular_resolution, cutoff_theta)
keep_vars : list[str], optional
    RINEX variables to keep. Defaults to KEEP_RNX_VARS.
log_level : str, default="INFO"
    Logging level (DEBUG, INFO, WARNING, ERROR)</p>
<h3 id="canvodpy.VODWorkflow--attributes">Attributes<a class="headerlink" href="#canvodpy.VODWorkflow--attributes" title="Permanent link">&para;</a></h3>
<p>site : Site
    Site configuration
grid : GridData
    Hemisphere grid structure
log : BoundLogger
    Structured logger with site context</p>
<h3 id="canvodpy.VODWorkflow--examples">Examples<a class="headerlink" href="#canvodpy.VODWorkflow--examples" title="Permanent link">&para;</a></h3>
<p>Process one date:</p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; workflow = VODWorkflow(site=&quot;Rosalia&quot;)
&gt;&gt;&gt; data = workflow.process_date(&quot;2025001&quot;)
&gt;&gt;&gt; print(data.keys())
dict_keys([&#39;canopy_01&#39;, &#39;reference_01&#39;])
</code></pre></div>
<p>Calculate VOD:</p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; vod = workflow.calculate_vod(
...     &quot;canopy_01&quot;, &quot;reference_01&quot;, &quot;2025001&quot;
... )
&gt;&gt;&gt; print(vod.VOD.mean().item())
0.42
</code></pre></div>
<p>Custom grid:</p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; workflow = VODWorkflow(
...     site=&quot;Rosalia&quot;,
...     grid=&quot;equal_area&quot;,
...     grid_params={&quot;angular_resolution&quot;: 5.0},
... )
</code></pre></div>
<h3 id="canvodpy.VODWorkflow--notes">Notes<a class="headerlink" href="#canvodpy.VODWorkflow--notes" title="Permanent link">&para;</a></h3>
<p>Preserves logical flow from legacy API:
Site → Pipeline → process_date → load → augment → grid → calculate</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>canvodpy/src/canvodpy/workflow.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">VODWorkflow</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Orchestrate complete VOD analysis workflow.</span>

<span class="sd">    Uses component factories for extensibility and structured logging</span>
<span class="sd">    for LLM-assisted debugging. Replaces legacy Site + Pipeline pattern.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    site : str or Site</span>
<span class="sd">        Site name or Site object</span>
<span class="sd">    reader : str, default=&quot;rinex3&quot;</span>
<span class="sd">        Registered reader name</span>
<span class="sd">    grid : str, default=&quot;equal_area&quot;</span>
<span class="sd">        Registered grid name</span>
<span class="sd">    vod_calculator : str, default=&quot;tau_omega&quot;</span>
<span class="sd">        Registered VOD calculator name</span>
<span class="sd">    grid_params : dict, optional</span>
<span class="sd">        Parameters for grid creation (angular_resolution, cutoff_theta)</span>
<span class="sd">    keep_vars : list[str], optional</span>
<span class="sd">        RINEX variables to keep. Defaults to KEEP_RNX_VARS.</span>
<span class="sd">    log_level : str, default=&quot;INFO&quot;</span>
<span class="sd">        Logging level (DEBUG, INFO, WARNING, ERROR)</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    site : Site</span>
<span class="sd">        Site configuration</span>
<span class="sd">    grid : GridData</span>
<span class="sd">        Hemisphere grid structure</span>
<span class="sd">    log : BoundLogger</span>
<span class="sd">        Structured logger with site context</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    Process one date:</span>

<span class="sd">        &gt;&gt;&gt; workflow = VODWorkflow(site=&quot;Rosalia&quot;)</span>
<span class="sd">        &gt;&gt;&gt; data = workflow.process_date(&quot;2025001&quot;)</span>
<span class="sd">        &gt;&gt;&gt; print(data.keys())</span>
<span class="sd">        dict_keys([&#39;canopy_01&#39;, &#39;reference_01&#39;])</span>

<span class="sd">    Calculate VOD:</span>

<span class="sd">        &gt;&gt;&gt; vod = workflow.calculate_vod(</span>
<span class="sd">        ...     &quot;canopy_01&quot;, &quot;reference_01&quot;, &quot;2025001&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; print(vod.VOD.mean().item())</span>
<span class="sd">        0.42</span>

<span class="sd">    Custom grid:</span>

<span class="sd">        &gt;&gt;&gt; workflow = VODWorkflow(</span>
<span class="sd">        ...     site=&quot;Rosalia&quot;,</span>
<span class="sd">        ...     grid=&quot;equal_area&quot;,</span>
<span class="sd">        ...     grid_params={&quot;angular_resolution&quot;: 5.0},</span>
<span class="sd">        ... )</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Preserves logical flow from legacy API:</span>
<span class="sd">    Site → Pipeline → process_date → load → augment → grid → calculate</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">site</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Site</span><span class="p">,</span>
        <span class="n">reader</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;rinex3&quot;</span><span class="p">,</span>
        <span class="n">grid</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;equal_area&quot;</span><span class="p">,</span>
        <span class="n">vod_calculator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;tau_omega&quot;</span><span class="p">,</span>
        <span class="n">grid_params</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">keep_vars</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">log_level</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize workflow with component factories.&quot;&quot;&quot;</span>
        <span class="c1"># Handle site input</span>
        <span class="n">site_name</span> <span class="o">=</span> <span class="n">site</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">site</span><span class="o">.</span><span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site</span> <span class="o">=</span> <span class="n">Site</span><span class="p">(</span><span class="n">site</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">site</span>

        <span class="c1"># Setup logging with site context</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span> <span class="n">BoundLogger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">site</span><span class="o">=</span><span class="n">site_name</span><span class="p">)</span>

        <span class="c1"># Store configuration</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reader_name</span> <span class="o">=</span> <span class="n">reader</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_name</span> <span class="o">=</span> <span class="n">grid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vod_calculator_name</span> <span class="o">=</span> <span class="n">vod_calculator</span>
        <span class="k">if</span> <span class="n">keep_vars</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.utils.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_config</span>

            <span class="n">keep_vars</span> <span class="o">=</span> <span class="n">load_config</span><span class="p">()</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">keep_rnx_vars</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span> <span class="o">=</span> <span class="n">keep_vars</span>

        <span class="c1"># Create grid using factory (cached for workflow)</span>
        <span class="n">grid_params</span> <span class="o">=</span> <span class="n">grid_params</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">builder</span> <span class="o">=</span> <span class="n">GridFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="o">**</span><span class="n">grid_params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;workflow_initialized&quot;</span><span class="p">,</span>
            <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
            <span class="n">reader</span><span class="o">=</span><span class="n">reader</span><span class="p">,</span>
            <span class="n">calculator</span><span class="o">=</span><span class="n">vod_calculator</span><span class="p">,</span>
            <span class="n">ncells</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">ncells</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">process_date</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">receivers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Process RINEX data for one date.</span>

<span class="sd">        Workflow: load_rinex → augment → assign_grid → store</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        date : str</span>
<span class="sd">            Date in YYYYDOY format (e.g., &quot;2025001&quot; = Jan 1, 2025)</span>
<span class="sd">        receivers : list[str], optional</span>
<span class="sd">            Receiver names to process. If None, use all active receivers.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict[str, xr.Dataset]</span>
<span class="sd">            Processed datasets keyed by receiver name. Each dataset has</span>
<span class="sd">            cell assignments and filtered data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; workflow = VODWorkflow(&quot;Rosalia&quot;)</span>
<span class="sd">        &gt;&gt;&gt; data = workflow.process_date(&quot;2025001&quot;)</span>
<span class="sd">        &gt;&gt;&gt; canopy = data[&quot;canopy_01&quot;]</span>
<span class="sd">        &gt;&gt;&gt; print(canopy.sizes)</span>
<span class="sd">        {&#39;epoch&#39;: 2880, &#39;sv&#39;: 32, &#39;cell&#39;: 324}</span>

<span class="sd">        Process specific receivers:</span>

<span class="sd">        &gt;&gt;&gt; data = workflow.process_date(</span>
<span class="sd">        ...     &quot;2025001&quot;,</span>
<span class="sd">        ...     receivers=[&quot;canopy_01&quot;]</span>
<span class="sd">        ... )</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        This is the main entry point for data processing. Orchestrates</span>
<span class="sd">        the full pipeline from raw RINEX to grid-assigned observations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;process_date_started&quot;</span><span class="p">)</span>

        <span class="c1"># Get receivers to process</span>
        <span class="n">receiver_list</span> <span class="o">=</span> <span class="n">receivers</span> <span class="ow">or</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">active_receivers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">recv_name</span> <span class="ow">in</span> <span class="n">receiver_list</span><span class="p">:</span>
            <span class="n">recv_log</span> <span class="o">=</span> <span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">receiver</span><span class="o">=</span><span class="n">recv_name</span><span class="p">)</span>
            <span class="n">recv_log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;processing_receiver&quot;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Step 1: Load RINEX</span>
                <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_rinex</span><span class="p">(</span><span class="n">recv_name</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">recv_log</span><span class="p">)</span>

                <span class="c1"># Step 2: Augment (preprocessing)</span>
                <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_augment_data</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">recv_log</span><span class="p">)</span>

                <span class="c1"># Step 3: Assign grid cells</span>
                <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assign_grid_cells</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">recv_log</span><span class="p">)</span>

                <span class="n">results</span><span class="p">[</span><span class="n">recv_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span>
                <span class="n">recv_log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;processing_complete&quot;</span><span class="p">,</span>
                    <span class="n">variables</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">data_vars</span><span class="p">),</span>
                    <span class="n">cells</span><span class="o">=</span><span class="n">ds</span><span class="o">.</span><span class="n">sizes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cell&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="p">)</span>

            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">recv_log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;processing_failed&quot;</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">raise</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;process_date_complete&quot;</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">results</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_vod</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">canopy_receiver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">sky_receiver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">use_cached</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate VOD from canopy and sky receivers.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        canopy_receiver : str</span>
<span class="sd">            Receiver under canopy (e.g., &quot;canopy_01&quot;)</span>
<span class="sd">        sky_receiver : str</span>
<span class="sd">            Sky reference receiver (e.g., &quot;reference_01&quot;)</span>
<span class="sd">        date : str</span>
<span class="sd">            Date in YYYYDOY format</span>
<span class="sd">        use_cached : bool, default=True</span>
<span class="sd">            If True, reuse datasets from process_date cache</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        xr.Dataset</span>
<span class="sd">            VOD dataset with variables:</span>
<span class="sd">            - VOD : Vegetation Optical Depth</span>
<span class="sd">            - phi : Azimuth angles</span>
<span class="sd">            - theta : Elevation angles</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; workflow = VODWorkflow(&quot;Rosalia&quot;)</span>
<span class="sd">        &gt;&gt;&gt; vod = workflow.calculate_vod(</span>
<span class="sd">        ...     &quot;canopy_01&quot;, &quot;reference_01&quot;, &quot;2025001&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; print(vod.VOD.mean().item())</span>
<span class="sd">        0.42</span>

<span class="sd">        Without caching:</span>

<span class="sd">        &gt;&gt;&gt; vod = workflow.calculate_vod(</span>
<span class="sd">        ...     &quot;canopy_01&quot;,</span>
<span class="sd">        ...     &quot;reference_01&quot;,</span>
<span class="sd">        ...     &quot;2025001&quot;,</span>
<span class="sd">        ...     use_cached=False,</span>
<span class="sd">        ... )</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Uses VODFactory to create calculator. Supports community</span>
<span class="sd">        extensions via factory registration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">canopy</span><span class="o">=</span><span class="n">canopy_receiver</span><span class="p">,</span> <span class="n">sky</span><span class="o">=</span><span class="n">sky_receiver</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;calculate_vod_started&quot;</span><span class="p">)</span>

        <span class="c1"># Load or retrieve datasets</span>
        <span class="k">if</span> <span class="n">use_cached</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_dataset_cache&quot;</span><span class="p">):</span>
            <span class="n">canopy_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dataset_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">canopy_receiver</span><span class="p">)</span>
            <span class="n">sky_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dataset_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">sky_receiver</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">canopy_ds</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">sky_ds</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Process if not cached</span>
        <span class="k">if</span> <span class="n">canopy_ds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;loading_canopy&quot;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_date</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="p">[</span><span class="n">canopy_receiver</span><span class="p">])</span>
            <span class="n">canopy_ds</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">canopy_receiver</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">sky_ds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;loading_sky&quot;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_date</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="p">[</span><span class="n">sky_receiver</span><span class="p">])</span>
            <span class="n">sky_ds</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">sky_receiver</span><span class="p">]</span>

        <span class="c1"># Use factory to create calculator</span>
        <span class="n">calculator</span> <span class="o">=</span> <span class="n">VODFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vod_calculator_name</span><span class="p">,</span>
            <span class="n">canopy_ds</span><span class="o">=</span><span class="n">canopy_ds</span><span class="p">,</span>
            <span class="n">sky_ds</span><span class="o">=</span><span class="n">sky_ds</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Calculate VOD</span>
        <span class="n">vod_ds</span> <span class="o">=</span> <span class="n">calculator</span><span class="o">.</span><span class="n">calculate_vod</span><span class="p">()</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;calculate_vod_complete&quot;</span><span class="p">,</span>
            <span class="n">cells</span><span class="o">=</span><span class="n">vod_ds</span><span class="o">.</span><span class="n">sizes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cell&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;cell&quot;</span> <span class="ow">in</span> <span class="n">vod_ds</span><span class="o">.</span><span class="n">sizes</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">vod_mean</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">vod_ds</span><span class="o">.</span><span class="n">VOD</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">())</span> <span class="k">if</span> <span class="s2">&quot;VOD&quot;</span> <span class="ow">in</span> <span class="n">vod_ds</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">vod_ds</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_load_rinex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">receiver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">log</span><span class="p">:</span> <span class="n">BoundLogger</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load RINEX using factory.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        receiver : str</span>
<span class="sd">            Receiver name</span>
<span class="sd">        date : str</span>
<span class="sd">            Date in YYYYDOY format</span>
<span class="sd">        log : BoundLogger</span>
<span class="sd">            Logger with receiver context</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        xr.Dataset</span>
<span class="sd">            RINEX data</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Uses ReaderFactory to create reader instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;load_rinex_started&quot;</span><span class="p">)</span>

        <span class="c1"># Get file path from site config</span>
        <span class="n">rinex_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_rinex_path</span><span class="p">(</span><span class="n">receiver</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>

        <span class="c1"># Create reader using factory</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">ReaderFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reader_name</span><span class="p">,</span>
            <span class="n">path</span><span class="o">=</span><span class="n">rinex_path</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Read data</span>
        <span class="n">ds</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

        <span class="c1"># Filter variables</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span><span class="p">:</span>
            <span class="n">keep_vars_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span><span class="p">)</span>
            <span class="n">drop_vars</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">data_vars</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">keep_vars_set</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">drop_vars</span><span class="p">:</span>
                <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">drop_vars</span><span class="p">(</span><span class="n">drop_vars</span><span class="p">)</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;load_rinex_complete&quot;</span><span class="p">,</span> <span class="n">variables</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">data_vars</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ds</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_augment_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">:</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">log</span><span class="p">:</span> <span class="n">BoundLogger</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Apply augmentation steps.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ds : xr.Dataset</span>
<span class="sd">            Input dataset</span>
<span class="sd">        log : BoundLogger</span>
<span class="sd">            Logger with context</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        xr.Dataset</span>
<span class="sd">            Augmented dataset</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Currently passes through. Will use AugmentationFactory</span>
<span class="sd">        for preprocessing steps (filtering, interpolation, etc.)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;augment_data_started&quot;</span><span class="p">)</span>

        <span class="c1"># TODO: Use AugmentationFactory for preprocessing</span>
        <span class="c1"># For now, pass through</span>
        <span class="c1"># augmentations = [</span>
        <span class="c1">#     AugmentationFactory.create(&quot;hampel&quot;, window=5),</span>
        <span class="c1">#     AugmentationFactory.create(&quot;interpolate&quot;, method=&quot;linear&quot;),</span>
        <span class="c1"># ]</span>
        <span class="c1"># for aug in augmentations:</span>
        <span class="c1">#     ds = aug.apply(ds)</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;augment_data_complete&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ds</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_assign_grid_cells</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">:</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">log</span><span class="p">:</span> <span class="n">BoundLogger</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Assign grid cells to observations.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ds : xr.Dataset</span>
<span class="sd">            Dataset with phi, theta coordinates</span>
<span class="sd">        log : BoundLogger</span>
<span class="sd">            Logger with context</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        xr.Dataset</span>
<span class="sd">            Dataset with added &#39;cell&#39; coordinate</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Uses grid operations from canvod.grids package.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;assign_grid_cells_started&quot;</span><span class="p">)</span>

        <span class="c1"># Use grid operations</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.grids</span><span class="w"> </span><span class="kn">import</span> <span class="n">add_cell_ids_to_ds_fast</span>

        <span class="n">ds_with_cells</span> <span class="o">=</span> <span class="n">add_cell_ids_to_ds_fast</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="p">)</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;assign_grid_cells_complete&quot;</span><span class="p">,</span>
            <span class="n">cells</span><span class="o">=</span><span class="n">ds_with_cells</span><span class="o">.</span><span class="n">sizes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cell&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">ds_with_cells</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_rinex_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">receiver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get RINEX file path from site configuration.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        receiver : str</span>
<span class="sd">            Receiver name</span>
<span class="sd">        date : str</span>
<span class="sd">            Date in YYYYDOY format</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Path</span>
<span class="sd">            Path to RINEX file</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If receiver not found in site configuration</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">receiver</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">receivers</span><span class="p">:</span>
            <span class="n">available</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">receivers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Receiver &#39;</span><span class="si">{</span><span class="n">receiver</span><span class="si">}</span><span class="s2">&#39; not in site. Available: </span><span class="si">{</span><span class="n">available</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># Use internal site object to get path</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">_site</span><span class="o">.</span><span class="n">get_rinex_path</span><span class="p">(</span><span class="n">receiver</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;String representation.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;VODWorkflow(site=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;grid=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grid_name</span><span class="si">}</span><span class="s2">&#39;, reader=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">reader_name</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="canvodpy.VODWorkflow.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">reader</span><span class="o">=</span><span class="s1">&#39;rinex3&#39;</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="s1">&#39;equal_area&#39;</span><span class="p">,</span> <span class="n">vod_calculator</span><span class="o">=</span><span class="s1">&#39;tau_omega&#39;</span><span class="p">,</span> <span class="n">grid_params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">keep_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">log_level</span><span class="o">=</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span></code>

<a href="#canvodpy.VODWorkflow.__init__" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Initialize workflow with component factories.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/workflow.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">site</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Site</span><span class="p">,</span>
    <span class="n">reader</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;rinex3&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;equal_area&quot;</span><span class="p">,</span>
    <span class="n">vod_calculator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;tau_omega&quot;</span><span class="p">,</span>
    <span class="n">grid_params</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">keep_vars</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">log_level</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize workflow with component factories.&quot;&quot;&quot;</span>
    <span class="c1"># Handle site input</span>
    <span class="n">site_name</span> <span class="o">=</span> <span class="n">site</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">site</span><span class="o">.</span><span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">site</span> <span class="o">=</span> <span class="n">Site</span><span class="p">(</span><span class="n">site</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">site</span>

    <span class="c1"># Setup logging with site context</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span> <span class="n">BoundLogger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">site</span><span class="o">=</span><span class="n">site_name</span><span class="p">)</span>

    <span class="c1"># Store configuration</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reader_name</span> <span class="o">=</span> <span class="n">reader</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">grid_name</span> <span class="o">=</span> <span class="n">grid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">vod_calculator_name</span> <span class="o">=</span> <span class="n">vod_calculator</span>
    <span class="k">if</span> <span class="n">keep_vars</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.utils.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_config</span>

        <span class="n">keep_vars</span> <span class="o">=</span> <span class="n">load_config</span><span class="p">()</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">keep_rnx_vars</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">keep_vars</span> <span class="o">=</span> <span class="n">keep_vars</span>

    <span class="c1"># Create grid using factory (cached for workflow)</span>
    <span class="n">grid_params</span> <span class="o">=</span> <span class="n">grid_params</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">builder</span> <span class="o">=</span> <span class="n">GridFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="o">**</span><span class="n">grid_params</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;workflow_initialized&quot;</span><span class="p">,</span>
        <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
        <span class="n">reader</span><span class="o">=</span><span class="n">reader</span><span class="p">,</span>
        <span class="n">calculator</span><span class="o">=</span><span class="n">vod_calculator</span><span class="p">,</span>
        <span class="n">ncells</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">ncells</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="canvodpy.VODWorkflow.process_date" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_date</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#canvodpy.VODWorkflow.process_date" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Process RINEX data for one date.</p>
<p>Workflow: load_rinex → augment → assign_grid → store</p>
<h4 id="canvodpy.VODWorkflow.process_date--parameters">Parameters<a class="headerlink" href="#canvodpy.VODWorkflow.process_date--parameters" title="Permanent link">&para;</a></h4>
<p>date : str
    Date in YYYYDOY format (e.g., "2025001" = Jan 1, 2025)
receivers : list[str], optional
    Receiver names to process. If None, use all active receivers.</p>
<h4 id="canvodpy.VODWorkflow.process_date--returns">Returns<a class="headerlink" href="#canvodpy.VODWorkflow.process_date--returns" title="Permanent link">&para;</a></h4>
<p>dict[str, xr.Dataset]
    Processed datasets keyed by receiver name. Each dataset has
    cell assignments and filtered data.</p>
<h4 id="canvodpy.VODWorkflow.process_date--examples">Examples<a class="headerlink" href="#canvodpy.VODWorkflow.process_date--examples" title="Permanent link">&para;</a></h4>
<blockquote>
<blockquote>
<blockquote>
<p 2880_="2880," 324="324" 32_="32," _cell_:="'cell':" _epoch_:="'epoch':" _sv_:="'sv':">workflow = VODWorkflow("Rosalia")
data = workflow.process_date("2025001")
canopy = data["canopy_01"]
print(canopy.sizes)</p>
</blockquote>
</blockquote>
</blockquote>
<p>Process specific receivers:</p>
<blockquote>
<blockquote>
<blockquote>
<p>data = workflow.process_date(
...     "2025001",
...     receivers=["canopy_01"]
... )</p>
</blockquote>
</blockquote>
</blockquote>
<h4 id="canvodpy.VODWorkflow.process_date--notes">Notes<a class="headerlink" href="#canvodpy.VODWorkflow.process_date--notes" title="Permanent link">&para;</a></h4>
<p>This is the main entry point for data processing. Orchestrates
the full pipeline from raw RINEX to grid-assigned observations.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/workflow.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">process_date</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">receivers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Process RINEX data for one date.</span>

<span class="sd">    Workflow: load_rinex → augment → assign_grid → store</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    date : str</span>
<span class="sd">        Date in YYYYDOY format (e.g., &quot;2025001&quot; = Jan 1, 2025)</span>
<span class="sd">    receivers : list[str], optional</span>
<span class="sd">        Receiver names to process. If None, use all active receivers.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dict[str, xr.Dataset]</span>
<span class="sd">        Processed datasets keyed by receiver name. Each dataset has</span>
<span class="sd">        cell assignments and filtered data.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; workflow = VODWorkflow(&quot;Rosalia&quot;)</span>
<span class="sd">    &gt;&gt;&gt; data = workflow.process_date(&quot;2025001&quot;)</span>
<span class="sd">    &gt;&gt;&gt; canopy = data[&quot;canopy_01&quot;]</span>
<span class="sd">    &gt;&gt;&gt; print(canopy.sizes)</span>
<span class="sd">    {&#39;epoch&#39;: 2880, &#39;sv&#39;: 32, &#39;cell&#39;: 324}</span>

<span class="sd">    Process specific receivers:</span>

<span class="sd">    &gt;&gt;&gt; data = workflow.process_date(</span>
<span class="sd">    ...     &quot;2025001&quot;,</span>
<span class="sd">    ...     receivers=[&quot;canopy_01&quot;]</span>
<span class="sd">    ... )</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    This is the main entry point for data processing. Orchestrates</span>
<span class="sd">    the full pipeline from raw RINEX to grid-assigned observations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;process_date_started&quot;</span><span class="p">)</span>

    <span class="c1"># Get receivers to process</span>
    <span class="n">receiver_list</span> <span class="o">=</span> <span class="n">receivers</span> <span class="ow">or</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">active_receivers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">recv_name</span> <span class="ow">in</span> <span class="n">receiver_list</span><span class="p">:</span>
        <span class="n">recv_log</span> <span class="o">=</span> <span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">receiver</span><span class="o">=</span><span class="n">recv_name</span><span class="p">)</span>
        <span class="n">recv_log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;processing_receiver&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Step 1: Load RINEX</span>
            <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_rinex</span><span class="p">(</span><span class="n">recv_name</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">recv_log</span><span class="p">)</span>

            <span class="c1"># Step 2: Augment (preprocessing)</span>
            <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_augment_data</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">recv_log</span><span class="p">)</span>

            <span class="c1"># Step 3: Assign grid cells</span>
            <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assign_grid_cells</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">recv_log</span><span class="p">)</span>

            <span class="n">results</span><span class="p">[</span><span class="n">recv_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span>
            <span class="n">recv_log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;processing_complete&quot;</span><span class="p">,</span>
                <span class="n">variables</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">data_vars</span><span class="p">),</span>
                <span class="n">cells</span><span class="o">=</span><span class="n">ds</span><span class="o">.</span><span class="n">sizes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cell&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">recv_log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;processing_failed&quot;</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">raise</span>

    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;process_date_complete&quot;</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="canvodpy.VODWorkflow.calculate_vod" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate_vod</span><span class="p">(</span><span class="n">canopy_receiver</span><span class="p">,</span> <span class="n">sky_receiver</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">use_cached</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#canvodpy.VODWorkflow.calculate_vod" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Calculate VOD from canopy and sky receivers.</p>
<h4 id="canvodpy.VODWorkflow.calculate_vod--parameters">Parameters<a class="headerlink" href="#canvodpy.VODWorkflow.calculate_vod--parameters" title="Permanent link">&para;</a></h4>
<p>canopy_receiver : str
    Receiver under canopy (e.g., "canopy_01")
sky_receiver : str
    Sky reference receiver (e.g., "reference_01")
date : str
    Date in YYYYDOY format
use_cached : bool, default=True
    If True, reuse datasets from process_date cache</p>
<h4 id="canvodpy.VODWorkflow.calculate_vod--returns">Returns<a class="headerlink" href="#canvodpy.VODWorkflow.calculate_vod--returns" title="Permanent link">&para;</a></h4>
<p>xr.Dataset
    VOD dataset with variables:
    - VOD : Vegetation Optical Depth
    - phi : Azimuth angles
    - theta : Elevation angles</p>
<h4 id="canvodpy.VODWorkflow.calculate_vod--examples">Examples<a class="headerlink" href="#canvodpy.VODWorkflow.calculate_vod--examples" title="Permanent link">&para;</a></h4>
<blockquote>
<blockquote>
<blockquote>
<p>workflow = VODWorkflow("Rosalia")
vod = workflow.calculate_vod(
...     "canopy_01", "reference_01", "2025001"
... )
print(vod.VOD.mean().item())
0.42</p>
</blockquote>
</blockquote>
</blockquote>
<p>Without caching:</p>
<blockquote>
<blockquote>
<blockquote>
<p>vod = workflow.calculate_vod(
...     "canopy_01",
...     "reference_01",
...     "2025001",
...     use_cached=False,
... )</p>
</blockquote>
</blockquote>
</blockquote>
<h4 id="canvodpy.VODWorkflow.calculate_vod--notes">Notes<a class="headerlink" href="#canvodpy.VODWorkflow.calculate_vod--notes" title="Permanent link">&para;</a></h4>
<p>Uses VODFactory to create calculator. Supports community
extensions via factory registration.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/workflow.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calculate_vod</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">canopy_receiver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">sky_receiver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">use_cached</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate VOD from canopy and sky receivers.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    canopy_receiver : str</span>
<span class="sd">        Receiver under canopy (e.g., &quot;canopy_01&quot;)</span>
<span class="sd">    sky_receiver : str</span>
<span class="sd">        Sky reference receiver (e.g., &quot;reference_01&quot;)</span>
<span class="sd">    date : str</span>
<span class="sd">        Date in YYYYDOY format</span>
<span class="sd">    use_cached : bool, default=True</span>
<span class="sd">        If True, reuse datasets from process_date cache</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    xr.Dataset</span>
<span class="sd">        VOD dataset with variables:</span>
<span class="sd">        - VOD : Vegetation Optical Depth</span>
<span class="sd">        - phi : Azimuth angles</span>
<span class="sd">        - theta : Elevation angles</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; workflow = VODWorkflow(&quot;Rosalia&quot;)</span>
<span class="sd">    &gt;&gt;&gt; vod = workflow.calculate_vod(</span>
<span class="sd">    ...     &quot;canopy_01&quot;, &quot;reference_01&quot;, &quot;2025001&quot;</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; print(vod.VOD.mean().item())</span>
<span class="sd">    0.42</span>

<span class="sd">    Without caching:</span>

<span class="sd">    &gt;&gt;&gt; vod = workflow.calculate_vod(</span>
<span class="sd">    ...     &quot;canopy_01&quot;,</span>
<span class="sd">    ...     &quot;reference_01&quot;,</span>
<span class="sd">    ...     &quot;2025001&quot;,</span>
<span class="sd">    ...     use_cached=False,</span>
<span class="sd">    ... )</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Uses VODFactory to create calculator. Supports community</span>
<span class="sd">    extensions via factory registration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">canopy</span><span class="o">=</span><span class="n">canopy_receiver</span><span class="p">,</span> <span class="n">sky</span><span class="o">=</span><span class="n">sky_receiver</span><span class="p">)</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;calculate_vod_started&quot;</span><span class="p">)</span>

    <span class="c1"># Load or retrieve datasets</span>
    <span class="k">if</span> <span class="n">use_cached</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_dataset_cache&quot;</span><span class="p">):</span>
        <span class="n">canopy_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dataset_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">canopy_receiver</span><span class="p">)</span>
        <span class="n">sky_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dataset_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">sky_receiver</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">canopy_ds</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">sky_ds</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Process if not cached</span>
    <span class="k">if</span> <span class="n">canopy_ds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;loading_canopy&quot;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_date</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="p">[</span><span class="n">canopy_receiver</span><span class="p">])</span>
        <span class="n">canopy_ds</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">canopy_receiver</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">sky_ds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;loading_sky&quot;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_date</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="p">[</span><span class="n">sky_receiver</span><span class="p">])</span>
        <span class="n">sky_ds</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">sky_receiver</span><span class="p">]</span>

    <span class="c1"># Use factory to create calculator</span>
    <span class="n">calculator</span> <span class="o">=</span> <span class="n">VODFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vod_calculator_name</span><span class="p">,</span>
        <span class="n">canopy_ds</span><span class="o">=</span><span class="n">canopy_ds</span><span class="p">,</span>
        <span class="n">sky_ds</span><span class="o">=</span><span class="n">sky_ds</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Calculate VOD</span>
    <span class="n">vod_ds</span> <span class="o">=</span> <span class="n">calculator</span><span class="o">.</span><span class="n">calculate_vod</span><span class="p">()</span>

    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;calculate_vod_complete&quot;</span><span class="p">,</span>
        <span class="n">cells</span><span class="o">=</span><span class="n">vod_ds</span><span class="o">.</span><span class="n">sizes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cell&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;cell&quot;</span> <span class="ow">in</span> <span class="n">vod_ds</span><span class="o">.</span><span class="n">sizes</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">vod_mean</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">vod_ds</span><span class="o">.</span><span class="n">VOD</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">())</span> <span class="k">if</span> <span class="s2">&quot;VOD&quot;</span> <span class="ow">in</span> <span class="n">vod_ds</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">vod_ds</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="canvodpy.VODWorkflow.__repr__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

<a href="#canvodpy.VODWorkflow.__repr__" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>String representation.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/workflow.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;String representation.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;VODWorkflow(site=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;grid=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grid_name</span><span class="si">}</span><span class="s2">&#39;, reader=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">reader_name</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="level-4-functional-api">Level 4 — Functional API<a class="headerlink" href="#level-4-functional-api" title="Permanent link">&para;</a></h2>
<p>Pure, stateless functions for composable pipelines and Airflow DAGs.</p>


<div class="doc doc-object doc-function">



<a id="canvodpy.read_rinex"></a>
    <div class="doc doc-contents first">

        <p>Read RINEX file using registered reader.</p>
<h3 id="canvodpy.read_rinex--parameters">Parameters<a class="headerlink" href="#canvodpy.read_rinex--parameters" title="Permanent link">&para;</a></h3>
<p>path : str or Path
    Path to RINEX file
reader : str, default="rinex3"
    Registered reader name from ReaderFactory
**reader_kwargs : Any
    Additional reader-specific parameters</p>
<h3 id="canvodpy.read_rinex--returns">Returns<a class="headerlink" href="#canvodpy.read_rinex--returns" title="Permanent link">&para;</a></h3>
<p>xr.Dataset
    RINEX data with variables (SNR, azimuth, elevation, etc.)</p>
<h3 id="canvodpy.read_rinex--examples">Examples<a class="headerlink" href="#canvodpy.read_rinex--examples" title="Permanent link">&para;</a></h3>
<blockquote>
<blockquote>
<blockquote>
<p>data = read_rinex("ROSA0010.25o")
print(data.data_vars)
Data variables: SNR, azimuth, elevation, ...</p>
</blockquote>
</blockquote>
</blockquote>
<p>With custom reader:</p>
<blockquote>
<blockquote>
<blockquote>
<p>data = read_rinex("data.rnx", reader="custom_reader")</p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="canvodpy.read_rinex--notes">Notes<a class="headerlink" href="#canvodpy.read_rinex--notes" title="Permanent link">&para;</a></h3>
<p>Pure function - stateless, no side effects.
Uses ReaderFactory for extensibility.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/functional.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">read_rinex</span><span class="p">(</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span><span class="p">,</span>
    <span class="n">reader</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;rinex3&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">reader_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read RINEX file using registered reader.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    path : str or Path</span>
<span class="sd">        Path to RINEX file</span>
<span class="sd">    reader : str, default=&quot;rinex3&quot;</span>
<span class="sd">        Registered reader name from ReaderFactory</span>
<span class="sd">    **reader_kwargs : Any</span>
<span class="sd">        Additional reader-specific parameters</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    xr.Dataset</span>
<span class="sd">        RINEX data with variables (SNR, azimuth, elevation, etc.)</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; data = read_rinex(&quot;ROSA0010.25o&quot;)</span>
<span class="sd">    &gt;&gt;&gt; print(data.data_vars)</span>
<span class="sd">    Data variables: SNR, azimuth, elevation, ...</span>

<span class="sd">    With custom reader:</span>

<span class="sd">    &gt;&gt;&gt; data = read_rinex(&quot;data.rnx&quot;, reader=&quot;custom_reader&quot;)</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Pure function - stateless, no side effects.</span>
<span class="sd">    Uses ReaderFactory for extensibility.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;read_rinex&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">),</span> <span class="n">reader</span><span class="o">=</span><span class="n">reader</span><span class="p">)</span>

    <span class="n">reader_obj</span> <span class="o">=</span> <span class="n">ReaderFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">reader</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span>
        <span class="o">**</span><span class="n">reader_kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">ds</span> <span class="o">=</span> <span class="n">reader_obj</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;read_rinex_complete&quot;</span><span class="p">,</span> <span class="n">variables</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">data_vars</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">ds</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">



<a id="canvodpy.create_grid"></a>
    <div class="doc doc-contents first">

        <p>Create hemisphere grid using registered builder.</p>
<h3 id="canvodpy.create_grid--parameters">Parameters<a class="headerlink" href="#canvodpy.create_grid--parameters" title="Permanent link">&para;</a></h3>
<p>grid_type : str, default="equal_area"
    Registered grid type from GridFactory
**grid_params : Any
    Grid parameters:
    - angular_resolution : float
    - cutoff_theta : float
    - phi_rotation : float</p>
<h3 id="canvodpy.create_grid--returns">Returns<a class="headerlink" href="#canvodpy.create_grid--returns" title="Permanent link">&para;</a></h3>
<p>GridData
    Grid structure with cells, vertices, metadata</p>
<h3 id="canvodpy.create_grid--examples">Examples<a class="headerlink" href="#canvodpy.create_grid--examples" title="Permanent link">&para;</a></h3>
<blockquote>
<blockquote>
<blockquote>
<p>grid = create_grid("equal_area", angular_resolution=5.0)
print(grid.ncells)
1296</p>
</blockquote>
</blockquote>
</blockquote>
<p>With cutoff:</p>
<blockquote>
<blockquote>
<blockquote>
<p>grid = create_grid(
...     "equal_area",
...     angular_resolution=10.0,
...     cutoff_theta=75.0,
... )</p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="canvodpy.create_grid--notes">Notes<a class="headerlink" href="#canvodpy.create_grid--notes" title="Permanent link">&para;</a></h3>
<p>Pure function - stateless, deterministic.
Uses GridFactory for extensibility.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/functional.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_grid</span><span class="p">(</span>
    <span class="n">grid_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;equal_area&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">grid_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>  <span class="c1"># Returns GridData</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create hemisphere grid using registered builder.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    grid_type : str, default=&quot;equal_area&quot;</span>
<span class="sd">        Registered grid type from GridFactory</span>
<span class="sd">    **grid_params : Any</span>
<span class="sd">        Grid parameters:</span>
<span class="sd">        - angular_resolution : float</span>
<span class="sd">        - cutoff_theta : float</span>
<span class="sd">        - phi_rotation : float</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    GridData</span>
<span class="sd">        Grid structure with cells, vertices, metadata</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; grid = create_grid(&quot;equal_area&quot;, angular_resolution=5.0)</span>
<span class="sd">    &gt;&gt;&gt; print(grid.ncells)</span>
<span class="sd">    1296</span>

<span class="sd">    With cutoff:</span>

<span class="sd">    &gt;&gt;&gt; grid = create_grid(</span>
<span class="sd">    ...     &quot;equal_area&quot;,</span>
<span class="sd">    ...     angular_resolution=10.0,</span>
<span class="sd">    ...     cutoff_theta=75.0,</span>
<span class="sd">    ... )</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Pure function - stateless, deterministic.</span>
<span class="sd">    Uses GridFactory for extensibility.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;create_grid&quot;</span><span class="p">,</span> <span class="n">grid_type</span><span class="o">=</span><span class="n">grid_type</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">grid_params</span><span class="p">)</span>

    <span class="n">builder</span> <span class="o">=</span> <span class="n">GridFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">grid_type</span><span class="p">,</span> <span class="o">**</span><span class="n">grid_params</span><span class="p">)</span>
    <span class="n">grid</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;create_grid_complete&quot;</span><span class="p">,</span> <span class="n">ncells</span><span class="o">=</span><span class="n">grid</span><span class="o">.</span><span class="n">ncells</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">grid</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">



<a id="canvodpy.assign_grid_cells"></a>
    <div class="doc doc-contents first">

        <p>Assign grid cells to observations.</p>
<h3 id="canvodpy.assign_grid_cells--parameters">Parameters<a class="headerlink" href="#canvodpy.assign_grid_cells--parameters" title="Permanent link">&para;</a></h3>
<p>ds : xr.Dataset
    Dataset with phi, theta coordinates
grid : GridData
    Grid structure from create_grid()</p>
<h3 id="canvodpy.assign_grid_cells--returns">Returns<a class="headerlink" href="#canvodpy.assign_grid_cells--returns" title="Permanent link">&para;</a></h3>
<p>xr.Dataset
    Dataset with added 'cell' coordinate</p>
<h3 id="canvodpy.assign_grid_cells--examples">Examples<a class="headerlink" href="#canvodpy.assign_grid_cells--examples" title="Permanent link">&para;</a></h3>
<blockquote>
<blockquote>
<blockquote>
<p 2880_="2880," 324="324" 32_="32," _cell_:="'cell':" _epoch_:="'epoch':" _sv_:="'sv':">grid = create_grid("equal_area")
ds_with_cells = assign_grid_cells(data, grid)
print(ds_with_cells.sizes)</p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="canvodpy.assign_grid_cells--notes">Notes<a class="headerlink" href="#canvodpy.assign_grid_cells--notes" title="Permanent link">&para;</a></h3>
<p>Pure function - no side effects on input.
Uses KDTree-based assignment for performance.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/functional.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">assign_grid_cells</span><span class="p">(</span>
    <span class="n">ds</span><span class="p">:</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">,</span>
    <span class="n">grid</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>  <span class="c1"># GridData</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Assign grid cells to observations.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    ds : xr.Dataset</span>
<span class="sd">        Dataset with phi, theta coordinates</span>
<span class="sd">    grid : GridData</span>
<span class="sd">        Grid structure from create_grid()</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    xr.Dataset</span>
<span class="sd">        Dataset with added &#39;cell&#39; coordinate</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; grid = create_grid(&quot;equal_area&quot;)</span>
<span class="sd">    &gt;&gt;&gt; ds_with_cells = assign_grid_cells(data, grid)</span>
<span class="sd">    &gt;&gt;&gt; print(ds_with_cells.sizes)</span>
<span class="sd">    {&#39;epoch&#39;: 2880, &#39;sv&#39;: 32, &#39;cell&#39;: 324}</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Pure function - no side effects on input.</span>
<span class="sd">    Uses KDTree-based assignment for performance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;assign_grid_cells&quot;</span><span class="p">)</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.grids</span><span class="w"> </span><span class="kn">import</span> <span class="n">add_cell_ids_to_ds_fast</span>

    <span class="n">ds_with_cells</span> <span class="o">=</span> <span class="n">add_cell_ids_to_ds_fast</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">grid</span><span class="p">)</span>

    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;assign_grid_cells_complete&quot;</span><span class="p">,</span>
        <span class="n">cells</span><span class="o">=</span><span class="n">ds_with_cells</span><span class="o">.</span><span class="n">sizes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cell&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">ds_with_cells</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><h2 id="factories">Factories<a class="headerlink" href="#factories" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-class">



<a id="canvodpy.ReaderFactory"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="canvodpy.factories.ComponentFactory">ComponentFactory</span></code></p>



        <p>Factory for GNSS data readers.</p>
<p>All registered readers must inherit from <code>GNSSDataReader</code> ABC.</p>
<h3 id="canvodpy.ReaderFactory--examples">Examples<a class="headerlink" href="#canvodpy.ReaderFactory--examples" title="Permanent link">&para;</a></h3>
<blockquote>
<blockquote>
<blockquote>
<p>from canvod.readers import Rnxv3Obs
ReaderFactory.register("rinex3", Rnxv3Obs)
reader = ReaderFactory.create("rinex3", path="data.rnx")
data = reader.read()</p>
</blockquote>
</blockquote>
</blockquote>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>canvodpy/src/canvodpy/factories.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ReaderFactory</span><span class="p">(</span><span class="n">ComponentFactory</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Factory for GNSS data readers.</span>

<span class="sd">    All registered readers must inherit from `GNSSDataReader` ABC.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; from canvod.readers import Rnxv3Obs</span>
<span class="sd">    &gt;&gt;&gt; ReaderFactory.register(&quot;rinex3&quot;, Rnxv3Obs)</span>
<span class="sd">    &gt;&gt;&gt; reader = ReaderFactory.create(&quot;rinex3&quot;, path=&quot;data.rnx&quot;)</span>
<span class="sd">    &gt;&gt;&gt; data = reader.read()</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_registry</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_set_abc_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Lazy import to avoid circular dependencies.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_abc_class</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.readers.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">GNSSDataReader</span>

            <span class="bp">cls</span><span class="o">.</span><span class="n">_abc_class</span> <span class="o">=</span> <span class="n">GNSSDataReader</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="canvodpy.GridFactory"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="canvodpy.factories.ComponentFactory">ComponentFactory</span></code></p>



        <p>Factory for grid builders.</p>
<p>All registered builders must inherit from <code>BaseGridBuilder</code> ABC.</p>
<h3 id="canvodpy.GridFactory--examples">Examples<a class="headerlink" href="#canvodpy.GridFactory--examples" title="Permanent link">&para;</a></h3>
<blockquote>
<blockquote>
<blockquote>
<p>from canvod.grids import EqualAreaBuilder
GridFactory.register("equal_area", EqualAreaBuilder)
grid = GridFactory.create(
...     "equal_area",
...     angular_resolution=5.0,
...     cutoff_theta=75.0,
... )</p>
</blockquote>
</blockquote>
</blockquote>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>canvodpy/src/canvodpy/factories.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">GridFactory</span><span class="p">(</span><span class="n">ComponentFactory</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Factory for grid builders.</span>

<span class="sd">    All registered builders must inherit from `BaseGridBuilder` ABC.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; from canvod.grids import EqualAreaBuilder</span>
<span class="sd">    &gt;&gt;&gt; GridFactory.register(&quot;equal_area&quot;, EqualAreaBuilder)</span>
<span class="sd">    &gt;&gt;&gt; grid = GridFactory.create(</span>
<span class="sd">    ...     &quot;equal_area&quot;,</span>
<span class="sd">    ...     angular_resolution=5.0,</span>
<span class="sd">    ...     cutoff_theta=75.0,</span>
<span class="sd">    ... )</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_registry</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_set_abc_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Lazy import to avoid circular dependencies.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_abc_class</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.grids.core.grid_builder</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseGridBuilder</span>

            <span class="bp">cls</span><span class="o">.</span><span class="n">_abc_class</span> <span class="o">=</span> <span class="n">BaseGridBuilder</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="canvodpy.VODFactory"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="canvodpy.factories.ComponentFactory">ComponentFactory</span></code></p>



        <p>Factory for VOD calculators.</p>
<p>All registered calculators must inherit from <code>VODCalculator</code> ABC.</p>
<h3 id="canvodpy.VODFactory--examples">Examples<a class="headerlink" href="#canvodpy.VODFactory--examples" title="Permanent link">&para;</a></h3>
<blockquote>
<blockquote>
<blockquote>
<p>from canvod.vod import TauOmegaZerothOrder
VODFactory.register("tau_omega", TauOmegaZerothOrder)
calc = VODFactory.create(
...     "tau_omega",
...     canopy_ds=canopy,
...     sky_ds=sky,
... )
vod = calc.calculate_vod()</p>
</blockquote>
</blockquote>
</blockquote>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>canvodpy/src/canvodpy/factories.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">VODFactory</span><span class="p">(</span><span class="n">ComponentFactory</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Factory for VOD calculators.</span>

<span class="sd">    All registered calculators must inherit from `VODCalculator` ABC.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; from canvod.vod import TauOmegaZerothOrder</span>
<span class="sd">    &gt;&gt;&gt; VODFactory.register(&quot;tau_omega&quot;, TauOmegaZerothOrder)</span>
<span class="sd">    &gt;&gt;&gt; calc = VODFactory.create(</span>
<span class="sd">    ...     &quot;tau_omega&quot;,</span>
<span class="sd">    ...     canopy_ds=canopy,</span>
<span class="sd">    ...     sky_ds=sky,</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; vod = calc.calculate_vod()</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_registry</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_set_abc_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Lazy import to avoid circular dependencies.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_abc_class</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">canvod.vod.calculator</span><span class="w"> </span><span class="kn">import</span> <span class="n">VODCalculator</span>

            <span class="bp">cls</span><span class="o">.</span><span class="n">_abc_class</span> <span class="o">=</span> <span class="n">VODCalculator</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-attribute">




<a id="canvodpy.setup_logging"></a>
    <div class="doc doc-contents first">

    </div>

</div>

<div class="doc doc-object doc-function">



<a id="canvodpy.get_logger"></a>
    <div class="doc doc-contents first">

        <p>Get a logger instance for a module.</p>
<h3 id="canvodpy.get_logger--parameters">Parameters<a class="headerlink" href="#canvodpy.get_logger--parameters" title="Permanent link">&para;</a></h3>
<p>name : str
    Logger name, typically <code>__name__</code> of the module.</p>
<h3 id="canvodpy.get_logger--returns">Returns<a class="headerlink" href="#canvodpy.get_logger--returns" title="Permanent link">&para;</a></h3>
<p>structlog.stdlib.BoundLogger
    Configured logger instance.</p>
<h3 id="canvodpy.get_logger--examples">Examples<a class="headerlink" href="#canvodpy.get_logger--examples" title="Permanent link">&para;</a></h3>
<blockquote>
<blockquote>
<blockquote>
<p>log = get_logger(<strong>name</strong>)
log.info("event_name", key="value", count=42)</p>
</blockquote>
</blockquote>
</blockquote>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>canvodpy/src/canvodpy/logging/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_logger</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">structlog</span><span class="o">.</span><span class="n">stdlib</span><span class="o">.</span><span class="n">BoundLogger</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a logger instance for a module.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        Logger name, typically `__name__` of the module.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    structlog.stdlib.BoundLogger</span>
<span class="sd">        Configured logger instance.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; log = get_logger(__name__)</span>
<span class="sd">    &gt;&gt;&gt; log.info(&quot;event_name&quot;, key=&quot;value&quot;, count=42)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">structlog</span><span class="o">.</span><span class="n">get_logger</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>














                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-circle-arrow-up" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="m16 12-4-4-4 4M12 16V8"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../guides/HOW_RELEASE_WORKS/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Release Internals">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-arrow-left" viewBox="0 0 24 24"><path d="m12 19-7-7 7-7M19 12H5"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Release Internals
              </div>
            </div>
          </a>
        
        
          
          <a href="../canvod-readers/" class="md-footer__link md-footer__link--next" aria-label="Next: canvod.readers">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                canvod.readers
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-arrow-right" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2026 Nicolas Bader, TU Wien
    </div>
  
  
    Made with
    <a href="https://zensical.org/" target="_blank" rel="noopener">
      Zensical
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/nfb2021/canvodpy" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/canvodpy/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      
      <script id="__config" type="application/json">{"annotate":null,"base":"../..","features":["content.code.copy","content.code.annotate","navigation.footer","navigation.indexes","navigation.instant","navigation.instant.prefetch","navigation.path","navigation.sections","navigation.tabs","navigation.top","navigation.tracking","search.highlight"],"search":"../../assets/javascripts/workers/search.e2d2d235.min.js","tags":null,"translations":{"clipboard.copied":"Copied to clipboard","clipboard.copy":"Copy to clipboard","search.result.more.one":"1 more on this page","search.result.more.other":"# more on this page","search.result.none":"No matching documents","search.result.one":"1 matching document","search.result.other":"# matching documents","search.result.placeholder":"Type to start searching","search.result.term.missing":"Missing","select.version":"Select version"},"version":null}</script>
    
    
      <script src="../../assets/javascripts/bundle.5fcf0de6.min.js"></script>
      
        <script src="https://unpkg.com/beautiful-mermaid/dist/beautiful-mermaid.browser.global.js"></script>
      
        <script src="../../assets/mermaid-init.js"></script>
      
    
  </body>
</html>