flowchart TD
    subgraph CONFIG["Configuration"]
        YAML["YAML Files"]
        DEFAULTS["Package Defaults"]
        MERGE["Deep Merge"]
        PYDANTIC["Pydantic Validation"]
    end

    subgraph STORAGE["Versioned Storage"]
        APPEND["Append Data"]
        COMMIT["Atomic Commit"]
        SNAP["Snapshot ID"]
        META["Metadata Parquet"]
    end

    subgraph TRACE["Provenance"]
        RECORD["Config Version RINEX Hash Snapshot ID Timestamp"]
    end

    YAML --> MERGE
    DEFAULTS --> MERGE
    MERGE --> PYDANTIC
    PYDANTIC --> APPEND
    APPEND --> COMMIT
    COMMIT --> SNAP
    SNAP --> META
    META --> RECORD
